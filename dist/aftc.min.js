function getFunctionName(e){return/function ([^\(]*)/.exec(e.toString())[1]}window.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},window.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var lazyLog=!0;window.log=function(e){console&&lazyLog&&console.log(e)},window.logEnable=function(){lazyLog=!0,log("log() is now enabled.")},window.logDisable=function(){lazyLog=!1,log("log() is now disabled.")},window.trace=function(e){console&&console.trace(e)},window.AFTCLogToOptions={elementId:"",element:null,clear:!1,append:!0,logToConsoleAlso:!0,addLineBreaks:!0},window.logTo=function(e){var o=!1,n=!1,t=!1,r=function(){var e=document.getElementById(window.AFTCLogToOptions.elementId);if(!e)throw"AFTC.js > logTo(): Usage error. The elementId ["+window.AFTCLogToOptions.elementId+"] you supplied cannot be found on the DOM!";window.AFTCLogToOptions.element=e},i=function(e){for(var r in e){var i=e[r];"clear"==r&&(o=e[r]),"elementId"==r&&i.length>0&&(n=!0),"element"==r&&(t=!0),window.AFTCLogToOptions.hasOwnProperty(r)?window.AFTCLogToOptions[r]=e[r]:console.error("AFTC.logTo: Usage Error - Unknown paramater ["+r+"]")}};if(arguments[0]&&"object"==typeof arguments[0]?(0,i(arguments[0])):arguments[1]&&"object"==typeof arguments[1]&&(1,i(arguments[1])),n&&r(),!window.AFTCLogToOptions.element||null==window.AFTCLogToOptions.element||void 0==window.AFTCLogToOptions.element){if(""==window.AFTCLogToOptions.elementId){var a="AFTC.js > logTo(): Usage error. logTo has no element to output too.\n";throw a+="Please specify an elementId or element via options. eg\n",a+="logTo({elementId:'debugOutput'});\n",a+="logTo({element:myElementObject});\n",a+="logTo('Hello World');\n",a+="logTo('Hello World',{elementId:'debugOutput'});\n",a+="logTo('Hello World',{element:myElementObject});\n",a+="\nIf you don't want to log to a HTML element then just use log!\n"}r()}if(o&&(window.AFTCLogToOptions.element.innerHTML=""),arguments[0]&&"string"==typeof arguments[0]&&arguments[0].length>0)if(window.AFTCLogToOptions.logToConsoleAlso&&console.log(e),window.AFTCLogToOptions.addLineBreaks&&(e+="<br>"),window.AFTCLogToOptions.append)window.AFTCLogToOptions.element.innerHTML+=e;else{l=window.AFTCLogToOptions.element.innerHTML;window.AFTCLogToOptions.element.innerHTML=e+l;var l=""}},window.debugWindow=function(e){var o=window.open("debug","debug","width=1200,height=400,resizeable,scrollbars");o.document.title="Debug",o.document.write("<style>body {width:100%;}</style>"),o.document.write("<div style='display:block;width:98%;-ms-word-wrap:break-word ;word-wrap:break-word;border:1px solid #000000;'>"+e+"</div>"),o.document.close()},window.stringToDebugWindow=function(e){debugWindow(e)},window.stringToPopup=function(e){debugWindow(e)},window.stringToWindow=function(e){debugWindow(e)},window.arrayRemoveIndex=function(e,o){return e.splice(o)},window.isArrayInString=function(e,o){return new RegExp("("+o.join("|").replace(/\./g,"\\.")+")$").test(e)},window.isArray=function(e){return!!e&&e.constructor===Array},window.radToDeg=function(e){return e*(180/Math.PI)},window.rad2deg=function(e){return radToDeg(e)},window.degToRad=function(e){return e*(Math.PI/180)},window.deg2rad=function(e){return degToRad(e)},window.boolToString=function(e){return e&&void 0!=e&&"boolean"==typeof e?e?"true":"false":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.stringToBool=function(e){if(!e||void 0==e||"string"!=typeof e)return console.log("AFTC.js: Conversion.js: stringToBoolean(str): Error - input str is not valid!"),!1;switch(e.toLowerCase()){case"y":case"yes":case"1":case"true":case"y":return!0;default:return!1}},window.getBooleanFrom=function(e){return"string"==typeof e?stringToBool(e):"number"==typeof e?!(e<=0):void 0},window.cleanJSONString=function(e){return e=e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f"),e=e.replace(/[\u0000-\u0019]+/g,"")},window.randomString=function(e){for(var o="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=0;t<e;t++)o+=n.charAt(Math.floor(Math.random()*n.length));return o},window.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},window.trimStringLength=function(e,o){return e.substring(0,o)},window.getFileExtension=function(e){e.split(".").pop();return e},window.getLastPartOfUrl=function(){var e=window.location.href;return e.substring(e.lastIndexOf("/")+1)},window.getFileExtension2=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))},window.removeFileFromPath=function(e){return e=e.replace(/[^\/]*$/,"")},window.redirect=function(e){self.location.href=e},window.dumpArgs=function(){if(arguments[0]&&"object"==typeof arguments[0])for(var e in arguments[0])console.log("Argument["+e+"] = "+arguments[0][e])},window.getArgs=function(){return arguments[0]&&"object"==typeof arguments[0]?arguments[0]:null},window.getRandomInt=function(e,o){return Math.floor(Math.random()*(o-e+1))+e},window.getWeightedRandom=function(e,o){e||(e=[.68,.69,.698,.6909,.68,.58,.57,.56,.4,.3]);var n=[],t=0,r=0;for(var i in e){n[i]||(n[i]=0);for(var a=0;a<o;a++)Math.random()<=e[i]&&(n[i]+=e[i]);n[i]>r&&(r=n[i],t=i)}return t},window.getStyle=function(e,o){var n;if("string"==typeof e){if(!(n=document.getElementById(e))){r="getComputerStyle(elementOrId,style): usage error!";throw r+="elementOrId needs to be an element in the DOM or a string of the ID of an element in the DOM!"}}else n=e;if(!document.defaultView)throw r="getComputerStyle(elementOrId,style): Your browser doesn't support defaultView, please upgrade your browser or try google chrome.";if(!document.defaultView.getComputedStyle)throw r="getComputerStyle(elementOrId,style): Your browser doesn't support getComputedStyle, please upgrade your browser or try google chrome.";var t=document.defaultView.getComputedStyle(n,null);if(!t[o]){var r="\ngetComputerStyle(elementOrId,style): Computed style for element doesn't exist!\n";throw r+="The element ["+e+"] doesn't have a computer style property of ["+o+"]"}return t[o]},window.getUkDateFromDbDateTime=function(e){if(""==e||null==e)return"no input";var o=e.split(" ")[0].split("-");return o[2]+"/"+o[1]+"/"+o[0]},window.getUkDateTimeFromDbDateTime=function(e){var o=e.split(" "),n=o[0].split("-"),t=o[1].split(":");return n[2]+"/"+n[1]+"/"+n[0]+" "+(t[0]+":"+t[1])},window.getSQLDateTime=function(){var e=new Date,o=e.getFullYear(),n=e.getMonth()+1,t=e.getDate(),r=e.getHours(),i=e.getMinutes(),a=e.getSeconds();if(1==n.toString().length)n="0"+n;if(1==t.toString().length)t="0"+t;if(1==r.toString().length)r="0"+r;if(1==i.toString().length)i="0"+i;if(1==a.toString().length)a="0"+a;return o+"/"+n+"/"+t+" "+r+":"+i+":"+a},window.getDateTime=function(e){var o=new Date,n="";switch(e||(e="us"),e.toLowerCase()){case"db":n=getSQLDateTime();break;case"us":n=(n=o.toLocaleString("en-US",{hour12:!1,month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})).replace(",","");break;default:n=(n=o.toLocaleString("en-GB")).replace(",","")}return n},window.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},window.isChrome=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},window.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},window.isIE=function(){return navigator.userAgent.toLowerCase().indexOf("MSIE")>-1},window.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},window.getBrowser=function(){var e,o=navigator.userAgent,n=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(o)||[],"IE"):"Chrome"===n[1]&&null!=(e=o.match(/\bOPR\/(\d+)/))?"Opera":(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=o.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n[0])},window.getMobileOperatingSystem=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":null},window.getElementById=function(e){return document.getElementById(e)},window.centerAbsoluteElement=function(e){var o;if("string"==typeof e&&!(o=document.getElementById(e)))throw"AFTC.js > centerAbsoluteElement(elementOrElementId): ERROR! elementId supplied was not found on the DOM!";var n=parseInt(o.offsetWidth),t=parseInt(o.offsetHeight),r=window.innerWidth/2-n/2,i=window.innerHeight/2-t/2;o.style.left=r+"px",o.style.top=i+"px"},window.setCookie=function(e,o){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=e+"="+o+";expires="+n.toUTCString()},window.getCookie=function(e){var o=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|)");return o?o[2]:null},window.removeAllSelectOptions=function(e){var o,n=document.getElementById(e);if(n)for(o=n.options.length-1;o>=0;o--)n.remove(o)},window.checkboxToggleContent=function(e,o,n){var t="aftc.js > checkboxShowHide > incorrect usage!\n";t+="checkboxHideShow(arg1,arg2,arg3)\n",t+="arg1 = checkbox element || checkbox element id\n",t+="arg2 = elementIdToShowHodeToggle || ArrayOfElementIdsToShowHide toggle\n",t+="arg3 (optional) = boolean : true (default) = show items on check || false = hide items on check\n";if("string"==typeof e&&(document.getElementById(e),!e))throw log("checkboxShowHide argument 1 ID was not found on the DOM! Check for typos"),t;if(e.type&&"checkbox"!=e.type)throw log("checkboxShowHide argument 1 was not a checkbox element or id of a checkbox!"),t;if(!o||""==o||o.length<1)throw log("checkboxShowHide argument 2 is not valid!"),t;void 0===n&&(n=!0);var r=[];if("string"==typeof o)(l=document.getElementById(o))||log("Unable to find elemnt id ["+o+"] on page!\n"+t),r.push(l);else if(isArray(o)){log("PARSING ARRAY");for(a=0;a<o.length;a++){var i=o[a];if(log("going to look for element with id of ["+i+"]"),!(l=document.getElementById(i)))throw"Unable to find elemnt id ["+i+"] on page!\n"+t;r.push(l)}}for(var a=0;a<r.length;a++){var l=r[a],d=(l.style.display,l.getAttribute("data-display"));l.dataset.display||(d=document.defaultView.getComputedStyle(l,null).display,l.setAttribute("data-display",d));var u="";u=e.checked&&n?d:e.checked&&!n?"none":!e.checked&&n?"none":d,l.style.display=u}document.getElementById(o)},window.isChecked=function(e){return document.getElementById(e).checked},window.isNumberKey=function(e){var o=e.which?e.which:event.keyCode;return!(o>31&&(o<48||o>57))},window.parseJSONToSelect=function(e,o,n,t){var r;if("string"==typeof o&&!(r=document.getElementById(o)))throw"AFTC.js > parseJSONToSelect() Usage ERROR, Unable to find anything on the DOM with an ID of ["+o+"]";"object"==typeof o&&(r=o),"string"==typeof e&&(e=JSON.parse(e));for(var i=0;i<e.length;i++){var a=e[i][n],l=e[i][t],d=document.createElement("option");d.text=a,d.value=l,r.add(d)}},window.limitLengthInWords=function(e,o){var n=e.value,t=n.split(/\S+/).length-1,r=new RegExp("^\\s*\\S+(?:\\s+\\S+){0,"+(o-1)+"}");return t>=o?(e.value=n.match(r),document.getElementById("word_count").innerHTML="",wcount_valid=!0):(document.getElementById("word_count").innerHTML=o-t+" words remaining",wcount_valid=!1),wcount_valid},window.generateNoise=function(e,o,n,t){var r,i,a,l=document.getElementById(e),d=l.getContext("2d"),t=t||.2;for(l.width=o,l.height=n,r=0;r<l.width;r++)for(i=0;i<l.height;i++)a=Math.floor(60*Math.random()),d.fillStyle="rgba("+a+","+a+","+a+","+t+")",d.fillRect(r,i,1,1)},window.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},window.isValidEmail=function(e){return validateEmail(e)};var AFTC=function(){var e={};if(arguments[0]&&"object"==typeof arguments[0])for(var o in arguments[0])e.hasOwnProperty(o)?e[o]=arguments[0][o]:console&&console.error&&console.error("AFTC : ERROR: Unknown paramater: ["+o+"]");return{version:function(){console.log("AFTC.js")}}};window.getHSLColor=function(e){return["hsl(",(120*(1-e)).toString(10),",100%,50%)"].join("")},window.getRandomRGBString=function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"},window.getRandomHexColor=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},window.rgb2Hex=function(e,o,n){if(e>255||o>255||n>255)throw"Invalid color component";return(e<<16|o<<8|n).toString(16)},window.rgbToHex=function(e,o,n){function t(e){var o=e.toString(16);return 1==o.length?"0"+o:o}return"#"+t(e)+t(o)+t(n)},window.hexToRgb=function(e){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},window.numberToHex=function(e){return e.toString(16)},window.rgb2hsv=function(){var e,o,n,t,r,i=arguments[0]/255,a=arguments[1]/255,l=arguments[2]/255,d=Math.max(i,a,l),u=d-Math.min(i,a,l),c=function(e){return(d-e)/6/u+.5};return 0==u?t=r=0:(r=u/d,e=c(i),o=c(a),n=c(l),i===d?t=n-o:a===d?t=1/3+e-n:l===d&&(t=2/3+o-e),t<0?t+=1:t>1&&(t-=1)),{h:Math.round(360*t),s:Math.round(100*r),v:Math.round(100*d)}},(AFTC=AFTC||{}).Color=function(e){function o(e,o){var t=e.r,r=e.g,i=e.b,a=100/255*t,l=Math.ceil(a+o);a>100&&(l=100);var d=100/255*r,u=Math.ceil(d+o);u>100&&(u=100);var c=100/255*i,g=Math.ceil(c+o);g>100&&(g=100);n.color.r=Math.round(2.55*l),n.color.g=Math.round(2.55*u),n.color.b=Math.round(2.55*g)}var n={color:{r:0,g:0,b:0}},t=function(e){0!=e&&o(n.color,e)},r=function(e){function o(e){var o=e.toString(16);return 1==o.length?"0"+o:o}var n=e.r,t=e.g,r=e.b;return"#"+o(n)+o(t)+o(r)},i=function(e){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},a=function(e){return e.r<<16|e.g<<8|e.b};return function(){var o="",t="",r=!1;switch(typeof e){case"string":if("#"==e[0])o=i(e),n.color.r=o.r,n.color.g=o.g,n.color.b=o.b;else{var a=(t=(t=e.replace("rgb(","")).replace(")","")).split(",");3==a.length?(n.color.r=parseInt(a[0]),n.color.g=parseInt(a[1]),n.color.b=parseInt(a[2])):r=!0}break;case"object":e&&e.constructor===Array&&3==e.length?(n.color.r=parseInt(e[0]),n.color.g=parseInt(e[1]),n.color.b=parseInt(e[2])):r=!0}if(r){var l="";throw l+="AFTC.Color(): ERROR - Unable to conver the color you supplied ["+e+"] to a useful RGB value!\n",l+="Formats supported are:\n",l+="\tnew AFTC.Color('rgb(50,60,70)');\n",l+="\tnew AFTC.Color('50,60,70');\n",l+="\tnew AFTC.Color([50,60,70]);\n",l+="\tnew AFTC.Color('#FFFFFF');\n"}}(),{lighten:function(e){t(e)},darken:function(e){t(-e)},getHex:function(){return r(n.color)},getRGB:function(){return{r:n.color.r,g:n.color.g,b:n.color.b}},getRGBString:function(){return"rgb("+n.color.r+","+n.color.g+","+n.color.b+")"},getNumber:function(){return a(n.color)+" "}}};