function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function getFunctionName(e){return/function ([^\(]*)/.exec(e.toString())[1]}window.addEvent=function(e,n,t,o){null!=e&&void 0!==e&&(e.addEventListener?e.addEventListener(n,t,!!o):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t)},window.isArray=function(e){return!!e&&e.constructor===Array},window.AFTCElementQueryCache=[],window.getElementById=function(e){return void 0!=window.AFTCElementQueryCache[e]?window.AFTCElementQueryCache[e]:(window.AFTCElementQueryCache[e]=document.getElementById(e),window.AFTCElementQueryCache[e])},window.querySelector=function(e){return void 0!=window.AFTCElementQueryCache[e]?window.AFTCElementQueryCache[e]:(window.AFTCElementQueryCache[e]=document.querySelector(e),window.AFTCElementQueryCache[e])},window.getDomElements=function(e){},window.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},window.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var lazyLog=!0;window.log=function(e){console&&lazyLog&&console.log(e)},window.logEnable=function(){lazyLog=!0,log("log() is now enabled.")},window.logDisable=function(){lazyLog=!1,log("log() is now disabled.")},window.trace=function(e){console&&console.trace(e)},window.AFTCLogToOptions={elementId:"",element:null,clear:!1,append:!0,logToConsole:!0,addLineBreaks:!0},window.logTo=function(e,n){var t=document.getElementById(e);log(n),t&&(t.innerHTML+=n+"<br>")},window.logObjTo=function(e,n,t){var o=document.getElementById(e);if(!o)throw"AFTC.JS > logObjTo(elementId,obj): Usage error. Can't find elementId of ["+e+"] on the dom!";var r="Logging object:<br>\n";for(var i in n)r+="&nbsp;&nbsp;&nbsp;&nbsp;"+i+" = "+n[i]+"<br>\n";if(t||(t=!0),t){a=o.innerHTML;o.innerHTML=a+"<br>"+r}else{var a=o.innerHTML;o.innerHTML=r+"<br>"+a}log("Logging object:\n");for(var i in n)log(i+" = "),log(n[i]+"\n");log(" ")},window.openDebugWindow=function(e){var n=window.open("debug","debug","width=1200,height=400,resizeable,scrollbars");n.document.title="Debug",n.document.write("<style>body {width:100%;}</style>"),n.document.write("<div style='display:block;width:98%;-ms-word-wrap:break-word ;word-wrap:break-word;border:1px solid #000000;'>"+e+"</div>"),n.document.close()},window.stringToPopup=function(e){openDebugWindow(e)},window.stringToWindow=function(e){openDebugWindow(e)},window.dumpArgs=function(){if(arguments[0]&&"object"==typeof arguments[0])for(var e in arguments[0])console.log("Argument["+e+"] = "+arguments[0][e])};var Benchmark=function(){var e=new Date;return{stop:function(){return(new Date).getTime()-e.getTime()}}};window.redirect=function(e){self.location.href=e},window.cleanJSONString=function(e){return e=e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f"),e=e.replace(/[\u0000-\u0019]+/g,"")},window.escapeHTML=function(e){var n={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};return e.replace(/[<>&"]/g,function(e){return n[e]})},window.trimStringLength=function(e,n){return e.substring(0,n)},window.getFileExtension=function(e){e.split(".").pop();return e},window.getLastPartOfUrl=function(){var e=window.location.href;return e.substring(e.lastIndexOf("/")+1)},window.getFileExtension2=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))},window.removeFileFromPath=function(e){return e=e.replace(/[^\/]*$/,"")},window.getAnchorFromUrl=function(e){return e.slice(e.lastIndexOf("#")+1)},window.isAlphaNumeric=function(e){return!/\W/.test(e)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.match(new RegExp("^"+e))}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.match(new RegExp(e+"$"))}),window.getStringBetween=function(e,n,t){return e.split(n).pop().split(t).shift().trim()},window.getAllStringsBetween=function(e,n,t){for(var o=0;o<e.length;++o)log(e[o])},window.getRandomInt=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},window.getRandom=function(e,n){return getRandomInt(e,n)},window.randomString=function(e){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},window.getRandomString=function(e){return randomString(e)},window.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},window.getArrayOfRandomNumbers=function(e,n,t){for(var o=[],r=0;r<e;r++)o[r]=getRandom(n,t);return o},window.getArrayOfRandomStrings=function(e,n){for(var t=[],o=0;o<e;o++)t[o]=getRandomString(n);return t},window.getWeightedRandom=function(e,n){e||(e=[.68,.69,.698,.6909,.68,.58,.57,.56,.4,.3]);var t=[],o=0,r=0;for(var i in e){t[i]||(t[i]=0);for(var a=0;a<n;a++)Math.random()<=e[i]&&(t[i]+=e[i]);t[i]>r&&(r=t[i],o=i)}return o},window.arrayRemoveIndex=function(e,n){return e.splice(n)},window.isArrayInString=function(e,n){return new RegExp("("+n.join("|").replace(/\./g,"\\.")+")$").test(e)},Array.prototype.contains=function(e){for(var n=this.length,t=0;t<n;t++)if(this[t]==e)return!0;return!1},window.getMaxFromArray=function(e){return Math.max.apply(Math,e)},window.getMinFromArray=function(e){return Math.min.apply(Math,e)},window.shuffleArray=function(e){var n=getRandom(1,2);return window["arrayShuffle"+n](e)},window.arrayShuffle=function(e){return shuffleArray(e)},window.arrayShuffle1=function(e){for(var n,t,o=e.length;0!==o;)t=Math.floor(Math.random()*o),n=e[o-=1],e[o]=e[t],e[t]=n;return e},window.arrayShuffle2=function(e){for(var n,t,o=new Uint32Array(1),r=0,i=e.length-1,a=e.length;r<i;r++,a--)crypto.getRandomValues(o),n=Math.floor(o/65536/65536*a)+r,t=e[r],e[r]=e[n],e[n]=t;return e},window.radToDeg=function(e){return e*(180/Math.PI)},window.rad2deg=function(e){return radToDeg(e)},window.degToRad=function(e){return e*(Math.PI/180)},window.deg2rad=function(e){return degToRad(e)},window.boolToString=function(e){return e&&void 0!=e&&"boolean"==typeof e?e?"true":"false":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.stringToBool=function(e){if(!e||void 0==e||"string"!=typeof e)return console.log("AFTC.js: Conversion.js: stringToBoolean(str): Error - input str is not valid!"),!1;switch(e.toLowerCase()){case"y":case"yes":case"1":case"true":case"y":return!0;default:return!1}},window.getBooleanFrom=function(e){return"string"==typeof e?stringToBool(e):"number"==typeof e?!(e<=0):void 0},window.getUkDateFromDbDateTime=function(e){if(""==e||null==e)return"no input";var n=e.split(" ")[0].split("-");return n[2]+"/"+n[1]+"/"+n[0]},window.getUkDateTimeFromDbDateTime=function(e){var n=e.split(" "),t=n[0].split("-"),o=n[1].split(":");return t[2]+"/"+t[1]+"/"+t[0]+" "+(o[0]+":"+o[1])},window.getSQLDateTime=function(){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1,o=e.getDate(),r=e.getHours(),i=e.getMinutes(),a=e.getSeconds();if(1==t.toString().length)t="0"+t;if(1==o.toString().length)o="0"+o;if(1==r.toString().length)r="0"+r;if(1==i.toString().length)i="0"+i;if(1==a.toString().length)a="0"+a;return n+"/"+t+"/"+o+" "+r+":"+i+":"+a},window.getDateTime=function(e){var n=new Date,t="";switch(e||(e="en-GB"),e.toLowerCase()){case"db":t=getSQLDateTime();break;case"us":t=(t=n.toLocaleString("en-US",{hour12:!1,month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})).replace(",","");break;default:t=(t=n.toLocaleString("en-GB")).replace(",","")}return t},window.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},window.isChrome=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},window.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},window.isIE=function(){return navigator.userAgent.toLowerCase().indexOf("MSIE")>-1},window.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},window.getBrowser=function(){var e,n=navigator.userAgent,t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?(e=/\brv[ :]+(\d+)/g.exec(n)||[],"IE"):"Chrome"===t[1]&&null!=(e=n.match(/\bOPR\/(\d+)/))?"Opera":(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=n.match(/version\/(\d+)/i))&&t.splice(1,1,e[1]),t[0])},window.getOS=function(e){var n;return n=e||(navigator.userAgent||navigator.vendor||window.opera),n=n.toLowerCase(),/windows phone/i.test(n)?{os:"windows phone",userAgent:n}:/samsungbrowser/i.test(n)?{os:"android",userAgent:n}:/android/i.test(n)?{os:"android",userAgent:n}:/ipad|iphone|ipod/i.test(n)?{os:"ios",userAgent:n}:/win64|win32|win16|win95|win98|windows 2000|windows xp|msie|windows nt 6.3; trident|windows nt|windows/i.test(n)?{os:"windows",userAgent:n}:/os x/i.test(n)?{os:"osx",userAgent:n}:/macintosh|osx/i.test(n)?{os:"osx",userAgent:n}:/openbsd/i.test(n)?{os:"open bsd",userAgent:n}:/sunos/i.test(n)?{os:"sunos",userAgent:n}:/crkey/i.test(n)?{os:"chromecast",userAgent:n}:/appletv/i.test(n)?{os:"apple tv",userAgent:n}:/wiiu/i.test(n)?{os:"nintendo wiiu",userAgent:n}:/nintendo 3ds/i.test(n)?{os:"nintendo 3ds",userAgent:n}:/playstation/i.test(n)?{os:"playstation",userAgent:n}:/kindle/i.test(n)?{os:"amazon kindle",userAgent:n}:/ cros /i.test(n)?{os:"chrome os",userAgent:n}:/ubuntu/i.test(n)?{os:"ubuntu",userAgent:n}:/googlebot/i.test(n)?{os:"google bot",userAgent:n}:/bingbot/i.test(n)?{os:"bing bot",userAgent:n}:/yahoo! slurp/i.test(n)?{os:"yahoo bot",userAgent:n}:{os:!1,userAgent:n}},window.getStyle=function(e,n){var t;if("string"==typeof e){if(!(t=document.getElementById(e))){r="getComputerStyle(elementOrId,style): usage error!";throw r+="elementOrId needs to be an element in the DOM or a string of the ID of an element in the DOM!"}}else t=e;if(!document.defaultView)throw r="getComputerStyle(elementOrId,style): Your browser doesn't support defaultView, please upgrade your browser or try google chrome.";if(!document.defaultView.getComputedStyle)throw r="getComputerStyle(elementOrId,style): Your browser doesn't support getComputedStyle, please upgrade your browser or try google chrome.";var o=document.defaultView.getComputedStyle(t,null);if(!o[n]){var r="\ngetComputerStyle(elementOrId,style): Computed style for element doesn't exist!\n";throw r+="The element ["+e+"] doesn't have a computer style property of ["+n+"]"}return o[n]},window.hasClass=function(e,n){return e.classList.contains(n)},window.addClass=function(e,n){e.classList.add(n)},window.removeClass=function(e,n){e.classList.remove(n)},window.isBreakPoint=function(e){for(var n,t,o=[320,480,768,1024],r=window.innerWidth,i=0,a=o.length;i<a;i++)if(o[i]===e){n=o[i-1]||0,t=o[i];break}return r>n&&r<=t},window.ready=function(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",function(){setTimeout(e,10)})},window.onReady=function(e){window.ready(e)},window.AFTCLockBodyParams={pageYOffset:null,elementId:""},window.lockBody=function(){if(!arguments[0]||"object"!=typeof arguments[0]){var e="\n";throw e+="AFTC.js > dom.js > lockBody() usage:\n",e+="lockBody({elementId:'PageContainmentDivId'});\n",e+="unlockBody();\n"}for(var n in arguments[0]){if(!window.AFTCLockBodyParams.hasOwnProperty(n))throw"AFTC.js > dom.js > lockBody(): Usage Error - Unknown parameter ["+n+"]";window.AFTCLockBodyParams[n]=arguments[0][n]}window.pageYOffset&&(window.AFTCLockBodyParams.pageYOffset=window.pageYOffset,$("html, body").css({top:-window.AFTCLockBodyParams.pageYOffset})),$("#"+window.AFTCLockBodyParams.elementId).css({height:"100%",overflow:"hidden"})},window.unlockBody=function(){$("#"+window.AFTCLockBodyParams.elementId).css({height:"",overflow:""}),$("html, body").css({top:""}),window.scrollTo(0,window.AFTCLockBodyParams.pageYOffset),window.setTimeout(function(){window.AFTCLockBodyParams.pageYOffset=null},0)},window.centerAbsoluteElement=function(e){var n;if("string"==typeof e&&!(n=document.getElementById(e)))throw"AFTC.js > centerAbsoluteElement(elementOrElementId): ERROR! elementId supplied was not found on the DOM!";var t=parseInt(n.offsetWidth),o=parseInt(n.offsetHeight),r=window.innerWidth/2-t/2,i=window.innerHeight/2-o/2;n.style.left=r+"px",n.style.top=i+"px"},window.setCookie=function(e,n){var t=new Date;t.setTime(t.getTime()+864e5),document.cookie=e+"="+n+";expires="+t.toUTCString()},window.getCookie=function(e){var n=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|)");return n?n[2]:null},window.removeAllSelectOptions=function(e){var n,t=document.getElementById(e);if(t)for(n=t.options.length-1;n>=0;n--)t.remove(n)},window.checkboxToggleContent=function(e,n,t){var o="aftc.js > checkboxShowHide > incorrect usage!\n";o+="checkboxHideShow(arg1,arg2,arg3)\n",o+="arg1 = checkbox element || checkbox element id\n",o+="arg2 = elementIdToShowHodeToggle || ArrayOfElementIdsToShowHide toggle\n",o+="arg3 (optional) = boolean : true (default) = show items on check || false = hide items on check\n";if("string"==typeof e&&(document.getElementById(e),!e))throw log("checkboxShowHide argument 1 ID was not found on the DOM! Check for typos"),o;if(e.type&&"checkbox"!=e.type)throw log("checkboxShowHide argument 1 was not a checkbox element or id of a checkbox!"),o;if(!n||""==n||n.length<1)throw log("checkboxShowHide argument 2 is not valid!"),o;void 0===t&&(t=!0);var r=[];if("string"==typeof n)(d=document.getElementById(n))||log("Unable to find elemnt id ["+n+"] on page!\n"+o),r.push(d);else if(isArray(n)){log("PARSING ARRAY");for(a=0;a<n.length;a++){var i=n[a];if(log("going to look for element with id of ["+i+"]"),!(d=document.getElementById(i)))throw"Unable to find elemnt id ["+i+"] on page!\n"+o;r.push(d)}}for(var a=0;a<r.length;a++){var d=r[a],u=(d.style.display,d.getAttribute("data-display"));d.dataset.display||(u=document.defaultView.getComputedStyle(d,null).display,d.setAttribute("data-display",u));var s="";s=e.checked&&t?u:e.checked&&!t?"none":!e.checked&&t?"none":u,d.style.display=s}document.getElementById(n)},window.isChecked=function(e){return document.getElementById(e).checked},window.isNumberKey=function(e){var n=e.which?e.which:event.keyCode;return!(n>31&&(n<48||n>57))},window.parseJSONToSelect=function(e,n,t,o){var r;if("string"==typeof n&&!(r=document.getElementById(n)))throw"AFTC.js > parseJSONToSelect() Usage ERROR, Unable to find anything on the DOM with an ID of ["+n+"]";"object"==typeof n&&(r=n),"string"==typeof e&&(e=JSON.parse(e));for(var i=0;i<e.length;i++){var a=e[i][t],d=e[i][o],u=document.createElement("option");u.text=a,u.value=d,r.add(u)}},window.limitLengthInWords=function(e,n){var t=e.value,o=t.split(/\S+/).length-1,r=new RegExp("^\\s*\\S+(?:\\s+\\S+){0,"+(n-1)+"}");return o>=n?(e.value=t.match(r),document.getElementById("word_count").innerHTML="",wcount_valid=!0):(document.getElementById("word_count").innerHTML=n-o+" words remaining",wcount_valid=!1),wcount_valid},window.generateNoise=function(e,n,t,o){var r,i,a,d=document.getElementById(e),u=d.getContext("2d"),o=o||.2;for(d.width=n,d.height=t,r=0;r<d.width;r++)for(i=0;i<d.height;i++)a=Math.floor(60*Math.random()),u.fillStyle="rgba("+a+","+a+","+a+","+o+")",u.fillRect(r,i,1,1)};var AFTC=AFTC||{};AFTC.Animate=function(e,n){function t(e,n){if("complete"==e){c=!1,l.removeEventListener("transitionend",!1);var t=w.length;t>0?(w.splice(0,1),(t=w.length)>0?setTimeout(w[0],100):(g=!1,o())):(g=!1,o())}else"add"==e&&(w.push(n),g||(g=!0,setTimeout(w[0],100)))}function o(){void 0!==n&&(f||(f=!0,n()))}function r(e){l.style.transitionDuration=e+"s",l.style.webkitTransitionDuration=e+"s",l.style.mozTransitionDuration=e+"s",l.style.oTransitionDuration=e+"s",l.style.msTransitionDuration=e+"s"}function i(){l.style.removeProperty("transitionDuration"),l.style.removeProperty("webkitTransitionDuration"),l.style.removeProperty("mozTransitionDuration"),l.style.removeProperty("oTransitionDuration"),l.style.removeProperty("msTransitionDuration")}function a(e){return void 0===e?e=1:parseFloat(e)}function d(e,n){var t=!1,o=!1,r=!1,i="";if("string"==typeof n)t=n.indexOf("%"),o=n.indexOf("px"),r=n.indexOf("#"),i=-1==t&&-1==o&&-1==r?"number":t>-1?"%":o>-1?"px":r>-1?"#":"number";else{i=["opacity"].contains(e)?"number":"px"}return i}function u(e,n){return t("add",function(){l.style[e]=n,t("complete")}),p}function s(e){return t("add",function(){setTimeout(function(){t("complete")},1e3*e)}),p}var l=querySelector(e);if(!this.element&&(this.element=getElementById(e),!this.element))throw"AFTC.js > animation.js > Animate(elementQuery): Usage error, unable to find element ["+e+"] on the DOM!";var c=!1,w=[],g=!1,f=!1,m=function(){l.removeEventListener("transitionend",m,!1),i(),t("complete")},h=function(n,o,i){if(!l.style.hasOwnProperty(n)){var u="";u="AFTC.js > animation.js > Animate(elementQuery): Usage error, unable to find style ["+n+"] on element ["+e+"]\n",u+="Common styles available (there are more) to you are:\n",u+="\twidth\n",u+="\theight\n",u+="\tleft\n",u+="\tright\n",u+="\ttop\n",u+="\tbottom\n",u+="\tborderWidth\n",u+="\tmargin\n",u+="\tmarginLeft\n",u+="\tmarginRight\n",u+="\tmarginTop\n",u+="\tmarginBottom\n",u+="\tpadding\n",u+="\tpaddingLeft\n",u+="\tpaddingRight\n",u+="\tpaddingTop\n",u+="\tpaddingBottom\n";for(var s in l.style)isNumeric(parseFloat(s))||(u+="\t"+s+"\n");throw u}var w=d(n,o);"#"!=w&&(o=parseFloat(o));var g=l.style[n];getComputedStyle(l,null)[n];return t("add",function(){if(0==g.length){["opacity","left","right","top","bottom","borderWidth","borderSize"].contains(n)&&(l.style[n]=0)}r(a(i)),c||(c=!0,l.addEventListener("transitionend",m,!1));var e;e="number"==w||"#"==w?o:o+w,setTimeout(function(){l.style[n]=e},50)}),p},p={delay:function(e){return s(e)},set:function(e,n){return u(e,n)},opacity:function(e,n){return h("opacity",e,n)},prop:function(e,n,t){return h(e,n,t)}};return p},window.fadeIn=function(e,n){window.fade("in",e,n,arguments[2])},window.fadeOut=function(e,n){window.fade("out",e,n,arguments[2])},window.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},window.isValidEmail=function(e){return validateEmail(e)},window.getHSLColor=function(e){return["hsl(",(120*(1-e)).toString(10),",100%,50%)"].join("")},window.getRandomRGBString=function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"},window.getRandomHexColor=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},window.rgb2Hex=function(e,n,t){if(e>255||n>255||t>255)throw"Invalid color component";return(e<<16|n<<8|t).toString(16)},window.rgbToHex=function(e,n,t){function o(e){var n=e.toString(16);return 1==n.length?"0"+n:n}return"#"+o(e)+o(n)+o(t)},window.hexToRgb=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},window.numberToHex=function(e){return e.toString(16)},window.rgb2hsv=function(){var e,n,t,o,r,i=arguments[0]/255,a=arguments[1]/255,d=arguments[2]/255,u=Math.max(i,a,d),s=u-Math.min(i,a,d),l=function(e){return(u-e)/6/s+.5};return 0==s?o=r=0:(r=s/u,e=l(i),n=l(a),t=l(d),i===u?o=t-n:a===u?o=1/3+e-t:d===u&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),{h:Math.round(360*o),s:Math.round(100*r),v:Math.round(100*u)}},(AFTC=AFTC||{}).Color=function(e){function n(e,n){var o=e.r,r=e.g,i=e.b,a=100/255*o,d=Math.ceil(a+n);a>100&&(d=100);var u=100/255*r,s=Math.ceil(u+n);s>100&&(s=100);var l=100/255*i,c=Math.ceil(l+n);c>100&&(c=100);t.color.r=Math.round(2.55*d),t.color.g=Math.round(2.55*s),t.color.b=Math.round(2.55*c)}var t={color:{r:0,g:0,b:0}},o=function(e){0!=e&&n(t.color,e)},r=function(e){function n(e){var n=e.toString(16);return 1==n.length?"0"+n:n}var t=e.r,o=e.g,r=e.b;return"#"+n(t)+n(o)+n(r)},i=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},a=function(e){return e.r<<16|e.g<<8|e.b};return function(){var n="",o="",r=!1;switch(typeof e){case"string":if("#"==e[0])n=i(e),t.color.r=n.r,t.color.g=n.g,t.color.b=n.b;else{var a=(o=(o=e.replace("rgb(","")).replace(")","")).split(",");3==a.length?(t.color.r=parseInt(a[0]),t.color.g=parseInt(a[1]),t.color.b=parseInt(a[2])):r=!0}break;case"object":e&&e.constructor===Array&&3==e.length?(t.color.r=parseInt(e[0]),t.color.g=parseInt(e[1]),t.color.b=parseInt(e[2])):r=!0}if(r){var d="";throw d+="AFTC.Color(): ERROR - Unable to conver the color you supplied ["+e+"] to a useful RGB value!\n",d+="Formats supported are:\n",d+="\tnew AFTC.Color('rgb(50,60,70)');\n",d+="\tnew AFTC.Color('50,60,70');\n",d+="\tnew AFTC.Color([50,60,70]);\n",d+="\tnew AFTC.Color('#FFFFFF');\n"}}(),{lighten:function(e){o(e)},darken:function(e){o(-e)},getHex:function(){return r(t.color)},getRGB:function(){return{r:t.color.r,g:t.color.g,b:t.color.b}},getRGBString:function(){return"rgb("+t.color.r+","+t.color.g+","+t.color.b+")"},getNumber:function(){return a(t.color)+" "}}};