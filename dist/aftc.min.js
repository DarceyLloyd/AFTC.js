function getFunctionName(e){return/function ([^\(]*)/.exec(e.toString())[1]}window.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},window.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var lazyLog=!0;window.log=function(e){console&&lazyLog&&console.log(e)},window.logEnable=function(){lazyLog=!0,log("log() is now enabled.")},window.logDisable=function(){lazyLog=!1,log("log() is now disabled.")},window.trace=function(e){console&&console.trace(e)},window.AFTCLogToOptions={elementId:"",element:null,clear:!1,append:!0,logToConsole:!0,addLineBreaks:!0},window.logTo=function(e){var n=!1,o=!1,t=!1,r=function(){var e=document.getElementById(window.AFTCLogToOptions.elementId);if(!e)throw"AFTC.js > logTo(): Usage error. The elementId ["+window.AFTCLogToOptions.elementId+"] you supplied cannot be found on the DOM!";window.AFTCLogToOptions.element=e},i=function(e){for(var r in e){var i=e[r];"clear"==r&&(n=e[r]),"elementId"==r&&i.length>0&&(o=!0),"element"==r&&(t=!0),window.AFTCLogToOptions.hasOwnProperty(r)&&(window.AFTCLogToOptions[r]=e[r])}};if(arguments[0]&&"object"==typeof arguments[0]?(0,i(arguments[0])):arguments[1]&&"object"==typeof arguments[1]&&(1,i(arguments[1])),o&&r(),!window.AFTCLogToOptions.element||null==window.AFTCLogToOptions.element||void 0==window.AFTCLogToOptions.element){if(""==window.AFTCLogToOptions.elementId){var a="AFTC.js > logTo(): Usage error. logTo has no element to output too.\n";throw a+="Please specify an elementId or element via options. eg\n",a+="logTo({elementId:'debugOutput'});\n",a+="logTo({element:myElementObject});\n",a+="logTo('Hello World');\n",a+="logTo('Hello World',{elementId:'debugOutput'});\n",a+="logTo('Hello World',{element:myElementObject});\n",a+="\nIf you don't want to log to a HTML element then just use log!\n"}r()}if(n&&(window.AFTCLogToOptions.element.innerHTML=""),arguments[0]&&"string"==typeof arguments[0]&&arguments[0].length>0)if(window.AFTCLogToOptions.logToConsole&&log(e),window.AFTCLogToOptions.addLineBreaks&&(e+="<br>"),window.AFTCLogToOptions.append)window.AFTCLogToOptions.element.innerHTML+=e;else{l=window.AFTCLogToOptions.element.innerHTML;window.AFTCLogToOptions.element.innerHTML=e+l;var l=""}},window.logObjTo=function(e,n,o){var t=document.getElementById(e);if(!t)throw"AFTC.JS > logObjTo(elementId,obj): Usage error. Can't find elementId of ["+e+"] on the dom!";var r="Logging object:<br>\n";for(var i in n)r+="&nbsp;&nbsp;&nbsp;&nbsp;"+i+" = "+n[i]+"<br>\n";if(o||(o=!0),o){a=t.innerHTML;t.innerHTML=a+"<br>"+r}else{var a=t.innerHTML;t.innerHTML=r+"<br>"+a}log("Logging object:\n");for(var i in n)log(i+" = "),log(n[i]+"\n");log(" ")},window.debugWindow=function(e){var n=window.open("debug","debug","width=1200,height=400,resizeable,scrollbars");n.document.title="Debug",n.document.write("<style>body {width:100%;}</style>"),n.document.write("<div style='display:block;width:98%;-ms-word-wrap:break-word ;word-wrap:break-word;border:1px solid #000000;'>"+e+"</div>"),n.document.close()},window.stringToDebugWindow=function(e){debugWindow(e)},window.stringToPopup=function(e){debugWindow(e)},window.stringToWindow=function(e){debugWindow(e)},window.arrayRemoveIndex=function(e,n){return e.splice(n)},window.isArrayInString=function(e,n){return new RegExp("("+n.join("|").replace(/\./g,"\\.")+")$").test(e)},window.isArray=function(e){return!!e&&e.constructor===Array},window.radToDeg=function(e){return e*(180/Math.PI)},window.rad2deg=function(e){return radToDeg(e)},window.degToRad=function(e){return e*(Math.PI/180)},window.deg2rad=function(e){return degToRad(e)},window.boolToString=function(e){return e&&void 0!=e&&"boolean"==typeof e?e?"true":"false":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.stringToBool=function(e){if(!e||void 0==e||"string"!=typeof e)return console.log("AFTC.js: Conversion.js: stringToBoolean(str): Error - input str is not valid!"),!1;switch(e.toLowerCase()){case"y":case"yes":case"1":case"true":case"y":return!0;default:return!1}},window.getBooleanFrom=function(e){return"string"==typeof e?stringToBool(e):"number"==typeof e?!(e<=0):void 0},window.cleanJSONString=function(e){return e=e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f"),e=e.replace(/[\u0000-\u0019]+/g,"")},window.randomString=function(e){for(var n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=0;t<e;t++)n+=o.charAt(Math.floor(Math.random()*o.length));return n},window.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},window.trimStringLength=function(e,n){return e.substring(0,n)},window.getFileExtension=function(e){e.split(".").pop();return e},window.getLastPartOfUrl=function(){var e=window.location.href;return e.substring(e.lastIndexOf("/")+1)},window.getFileExtension2=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))},window.removeFileFromPath=function(e){return e=e.replace(/[^\/]*$/,"")},window.redirect=function(e){self.location.href=e},window.dumpArgs=function(){if(arguments[0]&&"object"==typeof arguments[0])for(var e in arguments[0])console.log("Argument["+e+"] = "+arguments[0][e])},window.getArgs=function(){return arguments[0]&&"object"==typeof arguments[0]?arguments[0]:null},window.getRandomInt=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},window.getWeightedRandom=function(e,n){e||(e=[.68,.69,.698,.6909,.68,.58,.57,.56,.4,.3]);var o=[],t=0,r=0;for(var i in e){o[i]||(o[i]=0);for(var a=0;a<n;a++)Math.random()<=e[i]&&(o[i]+=e[i]);o[i]>r&&(r=o[i],t=i)}return t},window.getStyle=function(e,n){var o;if("string"==typeof e){if(!(o=document.getElementById(e))){r="getComputerStyle(elementOrId,style): usage error!";throw r+="elementOrId needs to be an element in the DOM or a string of the ID of an element in the DOM!"}}else o=e;if(!document.defaultView)throw r="getComputerStyle(elementOrId,style): Your browser doesn't support defaultView, please upgrade your browser or try google chrome.";if(!document.defaultView.getComputedStyle)throw r="getComputerStyle(elementOrId,style): Your browser doesn't support getComputedStyle, please upgrade your browser or try google chrome.";var t=document.defaultView.getComputedStyle(o,null);if(!t[n]){var r="\ngetComputerStyle(elementOrId,style): Computed style for element doesn't exist!\n";throw r+="The element ["+e+"] doesn't have a computer style property of ["+n+"]"}return t[n]},window.getUkDateFromDbDateTime=function(e){if(""==e||null==e)return"no input";var n=e.split(" ")[0].split("-");return n[2]+"/"+n[1]+"/"+n[0]},window.getUkDateTimeFromDbDateTime=function(e){var n=e.split(" "),o=n[0].split("-"),t=n[1].split(":");return o[2]+"/"+o[1]+"/"+o[0]+" "+(t[0]+":"+t[1])},window.getSQLDateTime=function(){var e=new Date,n=e.getFullYear(),o=e.getMonth()+1,t=e.getDate(),r=e.getHours(),i=e.getMinutes(),a=e.getSeconds();if(1==o.toString().length)o="0"+o;if(1==t.toString().length)t="0"+t;if(1==r.toString().length)r="0"+r;if(1==i.toString().length)i="0"+i;if(1==a.toString().length)a="0"+a;return n+"/"+o+"/"+t+" "+r+":"+i+":"+a},window.getDateTime=function(e){var n=new Date,o="";switch(e||(e="us"),e.toLowerCase()){case"db":o=getSQLDateTime();break;case"us":o=(o=n.toLocaleString("en-US",{hour12:!1,month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})).replace(",","");break;default:o=(o=n.toLocaleString("en-GB")).replace(",","")}return o},window.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},window.isChrome=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},window.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},window.isIE=function(){return navigator.userAgent.toLowerCase().indexOf("MSIE")>-1},window.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},window.getBrowser=function(){var e,n=navigator.userAgent,o=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?(e=/\brv[ :]+(\d+)/g.exec(n)||[],"IE"):"Chrome"===o[1]&&null!=(e=n.match(/\bOPR\/(\d+)/))?"Opera":(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=n.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),o[0])},window.getOS=function(e){var n;return n=e||(navigator.userAgent||navigator.vendor||window.opera),n=n.toLowerCase(),/windows phone/i.test(n)?{os:"windows phone",userAgent:n}:/android/i.test(n)?{os:"android",userAgent:n}:/ipad|iphone|ipod/i.test(n)?{os:"ios",userAgent:n}:/win64|win32|win16|win95|win98|windows 2000|windows xp|msie|windows nt 6.3; trident/i.test(n)?{os:"windows",userAgent:n}:/os x/i.test(n)?{os:"os x",userAgent:n}:/macintosh/i.test(n)?{os:"os x",userAgent:n}:/openbsd/i.test(n)?{os:"open bsd",userAgent:n}:/sunos/i.test(n)?{os:"sunos",userAgent:n}:/crkey/i.test(n)?{os:"chromecast",userAgent:n}:/appletv/i.test(n)?{os:"apple tv",userAgent:n}:/wiiu/i.test(n)?{os:"nintendo wiiu",userAgent:n}:/nintendo 3ds/i.test(n)?{os:"nintendo 3ds",userAgent:n}:/playstation/i.test(n)?{os:"playstation",userAgent:n}:/kindle/i.test(n)?{os:"amazon kindle",userAgent:n}:/ cros /i.test(n)?{os:"chrome os",userAgent:n}:/ubuntu/i.test(n)?{os:"ubuntu",userAgent:n}:/googlebot/i.test(n)?{os:"google bot",userAgent:n}:/bingbot/i.test(n)?{os:"bing bot",userAgent:n}:/yahoo! slurp/i.test(n)?{os:"yahoo bot",userAgent:n}:{os:!1,userAgent:n}},window.getElementById=function(e){return document.getElementById(e)},window.centerAbsoluteElement=function(e){var n;if("string"==typeof e&&!(n=document.getElementById(e)))throw"AFTC.js > centerAbsoluteElement(elementOrElementId): ERROR! elementId supplied was not found on the DOM!";var o=parseInt(n.offsetWidth),t=parseInt(n.offsetHeight),r=window.innerWidth/2-o/2,i=window.innerHeight/2-t/2;n.style.left=r+"px",n.style.top=i+"px"},window.setCookie=function(e,n){var o=new Date;o.setTime(o.getTime()+864e5),document.cookie=e+"="+n+";expires="+o.toUTCString()},window.getCookie=function(e){var n=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|)");return n?n[2]:null},window.removeAllSelectOptions=function(e){var n,o=document.getElementById(e);if(o)for(n=o.options.length-1;n>=0;n--)o.remove(n)},window.checkboxToggleContent=function(e,n,o){var t="aftc.js > checkboxShowHide > incorrect usage!\n";t+="checkboxHideShow(arg1,arg2,arg3)\n",t+="arg1 = checkbox element || checkbox element id\n",t+="arg2 = elementIdToShowHodeToggle || ArrayOfElementIdsToShowHide toggle\n",t+="arg3 (optional) = boolean : true (default) = show items on check || false = hide items on check\n";if("string"==typeof e&&(document.getElementById(e),!e))throw log("checkboxShowHide argument 1 ID was not found on the DOM! Check for typos"),t;if(e.type&&"checkbox"!=e.type)throw log("checkboxShowHide argument 1 was not a checkbox element or id of a checkbox!"),t;if(!n||""==n||n.length<1)throw log("checkboxShowHide argument 2 is not valid!"),t;void 0===o&&(o=!0);var r=[];if("string"==typeof n)(l=document.getElementById(n))||log("Unable to find elemnt id ["+n+"] on page!\n"+t),r.push(l);else if(isArray(n)){log("PARSING ARRAY");for(a=0;a<n.length;a++){var i=n[a];if(log("going to look for element with id of ["+i+"]"),!(l=document.getElementById(i)))throw"Unable to find elemnt id ["+i+"] on page!\n"+t;r.push(l)}}for(var a=0;a<r.length;a++){var l=r[a],d=(l.style.display,l.getAttribute("data-display"));l.dataset.display||(d=document.defaultView.getComputedStyle(l,null).display,l.setAttribute("data-display",d));var s="";s=e.checked&&o?d:e.checked&&!o?"none":!e.checked&&o?"none":d,l.style.display=s}document.getElementById(n)},window.isChecked=function(e){return document.getElementById(e).checked},window.isNumberKey=function(e){var n=e.which?e.which:event.keyCode;return!(n>31&&(n<48||n>57))},window.parseJSONToSelect=function(e,n,o,t){var r;if("string"==typeof n&&!(r=document.getElementById(n)))throw"AFTC.js > parseJSONToSelect() Usage ERROR, Unable to find anything on the DOM with an ID of ["+n+"]";"object"==typeof n&&(r=n),"string"==typeof e&&(e=JSON.parse(e));for(var i=0;i<e.length;i++){var a=e[i][o],l=e[i][t],d=document.createElement("option");d.text=a,d.value=l,r.add(d)}},window.limitLengthInWords=function(e,n){var o=e.value,t=o.split(/\S+/).length-1,r=new RegExp("^\\s*\\S+(?:\\s+\\S+){0,"+(n-1)+"}");return t>=n?(e.value=o.match(r),document.getElementById("word_count").innerHTML="",wcount_valid=!0):(document.getElementById("word_count").innerHTML=n-t+" words remaining",wcount_valid=!1),wcount_valid},window.generateNoise=function(e,n,o,t){var r,i,a,l=document.getElementById(e),d=l.getContext("2d"),t=t||.2;for(l.width=n,l.height=o,r=0;r<l.width;r++)for(i=0;i<l.height;i++)a=Math.floor(60*Math.random()),d.fillStyle="rgba("+a+","+a+","+a+","+t+")",d.fillRect(r,i,1,1)},window.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},window.isValidEmail=function(e){return validateEmail(e)};var AFTC=function(){var e={};if(arguments[0]&&"object"==typeof arguments[0])for(var n in arguments[0])e.hasOwnProperty(n)?e[n]=arguments[0][n]:console&&console.error&&console.error("AFTC : ERROR: Unknown paramater: ["+n+"]");return{version:function(){console.log("AFTC.js")}}};window.getHSLColor=function(e){return["hsl(",(120*(1-e)).toString(10),",100%,50%)"].join("")},window.getRandomRGBString=function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"},window.getRandomHexColor=function(){return"#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).substr(-6)},window.rgb2Hex=function(e,n,o){if(e>255||n>255||o>255)throw"Invalid color component";return(e<<16|n<<8|o).toString(16)},window.rgbToHex=function(e,n,o){function t(e){var n=e.toString(16);return 1==n.length?"0"+n:n}return"#"+t(e)+t(n)+t(o)},window.hexToRgb=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},window.numberToHex=function(e){return e.toString(16)},window.rgb2hsv=function(){var e,n,o,t,r,i=arguments[0]/255,a=arguments[1]/255,l=arguments[2]/255,d=Math.max(i,a,l),s=d-Math.min(i,a,l),u=function(e){return(d-e)/6/s+.5};return 0==s?t=r=0:(r=s/d,e=u(i),n=u(a),o=u(l),i===d?t=o-n:a===d?t=1/3+e-o:l===d&&(t=2/3+n-e),t<0?t+=1:t>1&&(t-=1)),{h:Math.round(360*t),s:Math.round(100*r),v:Math.round(100*d)}},(AFTC=AFTC||{}).Color=function(e){function n(e,n){var t=e.r,r=e.g,i=e.b,a=100/255*t,l=Math.ceil(a+n);a>100&&(l=100);var d=100/255*r,s=Math.ceil(d+n);s>100&&(s=100);var u=100/255*i,g=Math.ceil(u+n);g>100&&(g=100);o.color.r=Math.round(2.55*l),o.color.g=Math.round(2.55*s),o.color.b=Math.round(2.55*g)}var o={color:{r:0,g:0,b:0}},t=function(e){0!=e&&n(o.color,e)},r=function(e){function n(e){var n=e.toString(16);return 1==n.length?"0"+n:n}var o=e.r,t=e.g,r=e.b;return"#"+n(o)+n(t)+n(r)},i=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},a=function(e){return e.r<<16|e.g<<8|e.b};return function(){var n="",t="",r=!1;switch(typeof e){case"string":if("#"==e[0])n=i(e),o.color.r=n.r,o.color.g=n.g,o.color.b=n.b;else{var a=(t=(t=e.replace("rgb(","")).replace(")","")).split(",");3==a.length?(o.color.r=parseInt(a[0]),o.color.g=parseInt(a[1]),o.color.b=parseInt(a[2])):r=!0}break;case"object":e&&e.constructor===Array&&3==e.length?(o.color.r=parseInt(e[0]),o.color.g=parseInt(e[1]),o.color.b=parseInt(e[2])):r=!0}if(r){var l="";throw l+="AFTC.Color(): ERROR - Unable to conver the color you supplied ["+e+"] to a useful RGB value!\n",l+="Formats supported are:\n",l+="\tnew AFTC.Color('rgb(50,60,70)');\n",l+="\tnew AFTC.Color('50,60,70');\n",l+="\tnew AFTC.Color([50,60,70]);\n",l+="\tnew AFTC.Color('#FFFFFF');\n"}}(),{lighten:function(e){t(e)},darken:function(e){t(-e)},getHex:function(){return r(o.color)},getRGB:function(){return{r:o.color.r,g:o.color.g,b:o.color.b}},getRGBString:function(){return"rgb("+o.color.r+","+o.color.g+","+o.color.b+")"},getNumber:function(){return a(o.color)+" "}}};