AFTC.Audio=function(){function e(){var e;if("string"!=typeof d.src)for(e=0;e<d.src.length;e++)(t=new s).src=d.src[e],d.cache||(t.src=t.src+"?r="+getRandomInt(1,99999999)),l.preloader.files.push(t);else(t=new s).src=d.src,d.cache||(t.src=t.src+"?r="+getRandomInt(1,99999999)),l.preloader.files.push(t);for(e=0;e<l.preloader.fileCount;e++){var t=l.preloader.files[e];t.load(),l.suppliedExtensions.push(t.ext)}}function t(){var e=!0;for(i=0;i<l.preloader.fileCount;i++)l.preloader.files[i].loaded||(e=!1);e&&r()}function r(e){var t=!1;d.repeat>0&&(t="\nAFTC.Audio() > Loop Warning\n",t+="When looping or repeating it is recommended that you set the offsetLoop parameter unique for each device and browser and file format as it can vary between them (if in doubt leave it at zero), it will use the classic html5 audio end event and loop timing, which doesn't always have perfect results.\n",t+="\n"),t+="AFTC.Audio() > Browser audio format compatibility checks can be found at:\n",t+="FLAC: https://caniuse.com/#search=flac\n",t+="WAV: https://caniuse.com/#search=wav\n",t+="OGG: https://caniuse.com/#search=ogg\n",t+="MP3: https://caniuse.com/#search=mp3\n",t+="\n",t+="TO TURN OFF THESE MESSAGES USE: hideWarnings:true\n",t+="eg. new AFTC.Audio({hideWarnings:true});\n",(t+="\n")&&!d.hideWarnings&&console.warn(t),n()}function n(){if(l.audio=document.createElement("audio"),l.audio.volume=d.volume,l.audio.preload="auto",l.preloader.fileCount>1){for(var e="",t=0;t<l.preloader.fileCount;t++)e+='<source src="'+(r=l.preloader.files[t]).src+'" type="'+r.content_type+'" />';l.audio.innerHTML=e}else{var r=l.preloader.files[0];r.base64?l.audio.src=r.xhr.responseText:l.audio.setAttribute("src",r.src)}d.onReady&&d.onReady()}function a(){if(!l.playing)return!1;if(d.onUpdate){e={audio:l.audio,currentSrc:l.audio.currentSrc,currentTime:l.audio.currentTime,duration:l.audio.duration,offsetLoopDuration:l.offsetLoopDuration,ended:l.audio.ended,playbackRate:l.audio.playbackRate,volume:l.audio.volume,playCount:l.playCount,totalPlayCount:l.totalPlayCount};d.onUpdate(e)}if(l.audio.currentTime>=l.offsetLoopDuration)if(l.playCount++,l.playCount>=l.totalPlayCount){if(clearInterval(l.onPlayTimer),l.onPlayTimer=!1,l.playing=!1,d.onComplete){var e={audio:l.audio,currentSrc:l.audio.currentSrc,currentTime:l.audio.currentTime,duration:l.audio.duration,offsetLoopDuration:l.offsetLoopDuration,ended:l.audio.ended,playbackRate:l.audio.playbackRate,volume:l.audio.volume,playCount:l.playCount,totalPlayCount:l.totalPlayCount};d.onComplete(e)}}else l.audio.currentTime=0,l.audio.play(),l.checkInProgress=!1}if(!(this instanceof arguments.callee)){var o="\nAFTC.Audio: USAGE ERROR: Constructor called as a function.\n";throw o+="Please use new AFTC.Audio({params})",new Error(o)}var s=function(){function e(n){r.loaded=!0;try{r.xhr.removeEventListener("load",e)}catch(n){}r.content_type=r.xhr.getResponseHeader("content-type"),isInString("text/html",r.content_type)&&(r.base64=!0),t()}var r=this;this.src=!1,this.ext=!1,this.content_type=!1,this.base64=!1,this.loaded=!1,this.xhr=new XMLHttpRequest,this.load=function(){this.ext=getFileExtension(this.src),this.xhr.addEventListener("load",e),this.xhr.open("GET",this.src,!0),this.xhr.send()}},d={src:!1,cache:!0,volume:1,repeat:0,preload:!0,offsetLoopBy:0,loopByOffset:!1,onUpdate:!1,onReady:!1,onComplete:!1,hideWarnings:!1};argsToObject(arguments,d);var l={t:0,preloader:{files:[],fileCount:0},browser:{detected:!1,isChrome:!1,isFirefox:!1,isOpera:!1,isSafari:!1,isEdge:!1,isIE:!1},compatibility:{ie:["mp3"],edge:["mp3","ogg","flac","wav"],chrome:["mp3","ogg","flac","wav"],firefox:["mp3","ogg","flac","wav"],opera:["mp3","ogg","flac","wav"],safari:["mp3","wav"]},suppliedExtensions:[],audio:!1,playing:!1,playCount:0,totalPlayCount:0,offsetLoopDuration:0,onPlayTimer:!1};this.play=function(e){if(!l.audio)return!1;l.offsetLoopDuration=l.audio.duration-d.offsetLoopBy,l.totalPlayCount=d.repeat+1,-1==d.repeat&&(l.totalPlayCount=999999999999999),l.playCount=0,e||(e=0),l.audio.currentTime=e,l.playing=!0,l.audio.play(),l.onPlayTimer=setInterval(a,10)},this.stop=function(){if(clearInterval(l.onPlayTimer),l.audio.pause(),l.onPlayTimer=!1,!l.audio)return!1;l.audio.currentTime=0,l.playing=!1},this.pause=function(){if(l.audio.pause(),clearInterval(l.onPlayTimer),l.onPlayTimer=!1,l.playing=!1,!l.audio)return!1},this.resume=function(){if(!l.audio)return!1;l.playing=!0,l.audio.play(),l.onPlayTimer=setInterval(a,10)},l.browser.detected=!0,l.isChrome=isChrome(),l.isFirefox=isFireFox(),l.isOpera=isOpera(),l.isSafari=isSafari(),l.isEdge=isEdge(),l.isIE=isIE(),isArray(d.src)?l.preloader.fileCount=d.src.length:l.preloader.fileCount=1,l.offsetLoopDuration=l.audio.duration-d.offsetLoopBy,e()},AFTC.Animate=function(e,t){function r(e,t,r,n){if("set"!=(e=String(e).toLowerCase())&&"anim"!=e&&"delay"!=e)throw p.error.flag=!0,p.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - unhandled type of ["+e+"]",p.error.msg;var a=isArray(t),o=isArray(r),i=isArray(n);if(a!=o&&a!=i)throw p.error.flag=!0,p.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - please ensure all your params are either arrays or single values",p.error.msg;if(a&&o&&i&&t.length!=r.length&&t.length!=n.length)throw p.error.flag=!0,p.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - please ensure all your params are arrays are the same size",p.error.msg;a||o||i||(t=[t],r=[r],n=[n]);var s=new m;if(s.type=e,p.stackCount++,s.uid="stk"+p.stackCount,"anim"==e||"set"==e){for(var d=0;d<t.length;d++){(v=new h).style=t[d],v.time.duration=1e3*parseFloat(n);var l=r[d];if(c(l)){var y=u(l);v.end.r=y[0],v.end.g=y[1],v.end.b=y[2],v.end.a=y[3],v.end.rgba=!0,v.end.suffix=f(l)}else"html"==v.style.toLowerCase()?v.end.v=l:(v.end.v=parseFloat(l),isNaN(v.end.v)&&(v.end.v=l)),v.end.rgba=!1,v.end.suffix=f(l);s.definitions.push(v)}p.stack.push(s)}else if("delay"==e){var v=new g;v.duration=1e3*parseFloat(n),s.definitions.push(v),p.stack.push(s)}}function n(){p.state.started=!0,p.state.stopped=!1,p.active.stackIndex=0,p.active.defIndex=0,v=0,a()}function a(){if(p.active.stackIndex>=p.stack.length)d();else if(v>=y)console.error("AFTC.Animate.selectStack(): ERROR: Run count limit triggered");else{v++,p.active.defIndex=0;var e=p.stack[p.active.stackIndex],t=e.definitions;if(p.active.defIndex=0,"delay"==e.type){var r=e.definitions[0];r.start||(r.start=(new Date).getTime(),r.end=r.start+r.duration),s()}else if("set"==e.type)i();else if("anim"==e.type){for(var n=0;n<t.length;n++)l(n);T=0,o()}else log("PROCESS: ERROR - UNKNOWN type ["+e.type+"]")}}function o(){if(T>C)console.error("processAnim(): RUN LIMIT REACHED!");else{T++;for(var e=p.stack[p.active.stackIndex].definitions,t=!0,r=0;r<e.length;r++){var n=e[r],i=(new Date).getTime()-n.time.start,s=0,d="";i<n.time.duration?(n.start.rgba&&n.end.rgba?(d+="ct:"+i+"  v:"+(s="RGBA("+Math.round(n.start.r+n.step.r*i)+","+Math.round(n.start.g+n.step.g*i)+","+Math.round(n.start.b+n.step.b*i)+","+(n.start.a+n.step.a*i).toFixed(2)+")")+"   target:"+("RGBA("+n.end.r+","+n.end.g+","+n.end.b+","+n.end.a.toFixed(2)+")")+"  ",d+="  current:"+("RGBA("+n.start.r+","+n.start.g+","+n.start.b+","+n.start.a.toFixed(2)+")")+"  rs:"+n.step.r+"  ra:"+n.step.a,p.element.style[n.style]=s):(d+="ct:"+i+"  v:"+(s=n.start.v+n.step.v*i)+"  range:"+n.range.v+"  ",d+="current:"+n.start.v+"  target:"+n.end.v+"  step:"+n.step.v,p.element.style[n.style]=s+n.end.suffix),t=!1):n.start.rgba&&n.end.rgba?(s="RGBA("+n.end.r+","+n.end.g+","+n.end.b+","+n.end.a.toFixed(2)+")",p.element.style[n.style]=s):(d+="ct:"+i+"  v:"+(s=n.end.v)+"  range:"+n.range.v+"  ",d+="current:"+n.start.v+"  target:"+n.end.v+"  step:"+n.step.v,p.element.style[n.style]=s+n.end.suffix)}t?(p.active.stackIndex++,a()):requestAnimationFrame(o)}}function i(){for(var e=p.stack[p.active.stackIndex].definitions,t=0;t<e.length;t++){var r=e[t];if("html"==r.style.toLowerCase())p.element.innerHTML=r.end.v;else if(r.end.rgba)n="RGBA("+r.end.r+","+r.end.g+","+r.end.b+","+r.end.a+")",p.element.style[r.style]=n;else{var n=r.end.v+r.end.suffix;p.element.style[r.style]=n}}p.active.stackIndex++,p.active.defIndex=0,a()}function s(){var e=p.stack[p.active.stackIndex],t=(e.definitions,e.definitions[0]);(new Date).getTime()-t.start<t.duration?requestAnimationFrame(s):(p.active.stackIndex++,p.active.defIndex=0,a())}function d(){"function"==typeof p.onComplete&&p.onComplete()}function l(e){var t=p.stack[p.active.stackIndex],r=t.definitions[e],n=getComputedStyle(p.element)[r.style];if(c(n)){var a=u(n);r.start.r=a[0],r.start.g=a[1],r.start.b=a[2],r.start.a=a[3],r.start.rgba=!0,r.start.suffix=f(n)}else r.start.v=parseFloat(n),r.start.rgba=!1,r.start.suffix=f(n);if("anim"==t.type&&(r.start.rgba&&r.end.rgba?(r.range.r=r.end.r-r.start.r,r.range.g=r.end.g-r.start.g,r.range.b=r.end.b-r.start.b,r.range.a=r.end.a-r.start.a,r.step.r=r.range.r/r.time.duration,r.step.g=r.range.g/r.time.duration,r.step.b=r.range.b/r.time.duration,r.step.a=r.range.a/r.time.duration):(r.range.v=r.end.v-r.start.v,r.step.v=r.range.v/r.time.duration),r.time.start=(new Date).getTime()+0,r.time.end=r.time.start+r.time.duration,r.start.rgba!==r.end.rgba&&r.start.suffix!==r.end.suffix&&"set"!=set))return p.error.flag=!0,p.error.msg="AFTC.js > AFTC.Animate(): Error - Unable to process set or animate for style ["+r.style+"] due to start and end value datatypes not being the same!\n",p.error.msg+="startValueIsRGB:["+r.start.rgba+"]  endValueIsRGB:["+r.end.rgba+"]  ",p.error.msg+="startSuffix:["+r.start.suffix+"]  endSuffix:["+r.end.suffix+"]",console.error(p.error.msg),void(r.valid=!1)}function u(e){e=(e=(e=(e=(e=(e=String(e).toLowerCase()).replace(" ","")).replace("rgba","")).replace("rgb","")).replace("(","")).replace(")",""),parts=e.split(",");for(var t=0;t<parts.length;t++)parts[t]=parseFloat(parts[t]);return 3==parts.length&&parts.push(1),parts}function c(e){return(e=String(e).toLowerCase()).indexOf("rgb")>-1}function f(e){return(e=String(e).toLowerCase()).indexOf("px")>-1?"px":e.indexOf("%")>-1?"%":e.indexOf("rem")>-1?"rem":e.indexOf("em")>-1?"em":e.indexOf("rem")>-1?"rem":""}var p={error:{error:!1,msg:""},elementId:!1,element:!1,onComplete:!1,stack:[],stackCount:0,active:{stackIndex:!1,defIndex:!1,definition:!1},state:{started:!1,stopped:!1},onComplete:!1},m=function(){this.type="",this.definitions=[],this.uid=0},g=function(){this.duration=!1,this.start=!1,this.end=!1},h=function(){this.style="",this.valid=!0,this.start={v:!1,rgba:!1,r:!1,g:!1,b:!1,a:!1,suffix:!1},this.end={v:!1,rgba:!1,r:!1,g:!1,b:!1,a:!1,suffix:!1},this.range={v:!1,r:!1,g:!1,b:!1,a:!1},this.step={v:!1,r:!1,g:!1,b:!1,a:!1},this.time={start:!1,end:!1,duration:!1}},y=2e3,v=0,C=2e3,T=0;this.animate=function(e,t,n){return r("anim",e,t,n),this},this.anim=function(e,t,n){return r("anim",e,t,n),this},this.setProp=function(e,t){return r("set",e,t,0),this},this.set=function(e,t){return r("set",e,t,0),this},this.delay=function(e){return r("delay","",0,e),this},this.wait=function(e){return r("delay","",0,e),this},this.pause=function(e){return r("delay","",0,e),this},this.repeat=function(e){n()},this.start=function(){n()},this.stop=function(){stop()},function(){if(p.elementId=e,p.onComplete=t,p.element=getElementById(e),!isElement(p.element))throw p.error.msg="AFTC.js > AFTC.Animate(): Usage error, unable to locate an element with id ["+p.elementId+"] on the DOM!",p.error.msg}()},window.rgb2Hex=function(e,t,r){return(e<<16|t<<8|r).toString(16)},window.rgbToHex=function(e,t,r){function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var a="#"+n(e)+n(t)+n(r);return a=a.toUpperCase()},window.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},window.hex2Rgb=function(e){return window.hexToRgb(e)},AFTC.Color=function(){function e(){o.hex=o.hex.replace("#","");var e=o.hex.match(/.{1,2}/g);i.r=n(e[0]),i.g=n(e[1]),i.b=n(e[2]),i.a=1}function t(){i.r=Math.round(255*Math.random()),i.g=Math.round(255*Math.random()),i.b=Math.round(255*Math.random()),i.a=1}function r(e,t,r,n){function a(e,t){var r=parseInt(100/255*e),n=parseInt(r+t);n>100&&(n=100),n<-100&&(n=-100);var a=Math.ceil(o*n);return a>255&&(a=255),n<0&&(a=0),a}var o=2.55;t&&(i.r=a(i.r,e)),r&&(i.g=a(i.g,e)),n&&(i.b=a(i.b,e))}function n(e){return parseInt(e,16)}function a(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var o={r:!1,g:!1,b:!1,a:!1,hex:!1},i={r:!1,g:!1,b:!1,a:!1};argsToObject(arguments,o),this.lighten=function(e,t){if(t){t.r&&t.r,t.g&&t.g,t.b&&t.b,r(e,t.r,t.g,t.b)}else r(e,!0,!0,!0)},this.darken=function(e,t){if(t){t.r&&t.r,t.g&&t.g,t.b&&t.b,r(-e,t.r,t.g,t.b)}else r(-e,!0,!0,!0)},this.randomizeColor=function(){t()},this.getRGBSstring=function(){return"RGB("+i.r+","+i.g+","+i.b+")"},this.getRGBASstring=function(){return"RGBA("+i.r+","+i.g+","+i.b+","+i.a+")"},this.getHexString=function(){var e="#"+a(i.r)+a(i.g)+a(i.b);return e=e.toUpperCase()},this.getHex=function(){return this.getHexString()},this.hex=function(){return this.getHex()},this.getRGB=function(){return this.getRGBSstring()},this.rgb=function(){return this.getRGB()},this.getRGBA=function(){return this.getRGBASstring()},this.rgba=function(){return this.getRGBA()},this.setRGB=function(e,t,r){i.r=e,i.g=t,i.b=r},this.setHex=function(t){o.hex=t,e()},o.hex?(i.hex=o.hex,e()):o.hex||isBool(o.r)||isBool(o.g)||isBool(o.b)||o.a?o.hex||isBool(o.r)||isBool(o.g)||isBool(o.b)||isBool(o.a)?t():(o.r?i.r=o.r:i.r=0,o.g?i.g=o.g:i.g=0,o.b?i.b=o.b:i.b=0,o.a?i.a=o.a:i.a=0):(o.r?i.r=o.r:i.r=0,o.g?i.g=o.g:i.g=0,o.b?i.b=o.b:i.b=0,i.a=1)},window.getRandomColor=function(){return new AFTC.Color},window.getRandomHexColor=function(){return(new AFTC.Color).getHex()},window.getRandomRGBString=function(){return(new AFTC.Color).getRGB()},window.getRandomRGBAString=function(){return(new AFTC.Color).getRGBA()},window.getRandomRGBColor=function(){return(new AFTC.Color).getRGB()};var AFTC=AFTC||{};AFTC.Visibility=function(){function e(){!l.element&&l.id&&(l.element=getElementById(l.id))}function t(e){if(isArray(e))for(var t in e){var r=e[t];try{l.element.classList.remove(r)}catch(e){}}else if("string"==typeof e)try{l.element.classList.remove(e)}catch(e){}}function r(e){if(isArray(e))for(var t in e){var r=e[t];try{l.element.classList.add(r)}catch(e){}}else if("string"==typeof e)try{l.element.classList.add(e)}catch(e){}}function n(){l.onStartAddClassList&&r(l.onStartAddClassList),l.onStartRemoveClassList&&t(l.onStartRemoveClassList)}function a(){l.onCompleteAddClassList&&r(l.onCompleteAddClassList),l.onCompleteRemoveClassList&&t(l.onCompleteRemoveClassList)}function o(){function t(){l.element.style.transitionDuration="0s",l.element.style.display="none",a(),l.onComplete&&l.onComplete()}e(),l.element&&isElement(l.element)&&(n(),l.duration?(l.element.style.transitionDuration=l.duration+"s",l.element.style.opacity=0,l.element.style.overflow="hidden",l.animateHeight&&(l.element.style.height=getComputedStyle(l.element).height,setTimeout(function(){l.element.style.height="0px",l.element.style.marginTop="0px",l.element.style.marginBottom="0px"},25)),l.element.addEventListener("transitionend",function(e){t()},!1)):(l.element.style.display="none",t()))}function i(){l.delay?setTimeout(function(){o()},1e3*l.delay):o()}function s(){function t(){l.element.style.transitionDuration="0s",l.element.style.opacity=1,l.element.style.display=l.display,a(),l.onComplete&&l.onComplete()}e(),l.element&&isElement(l.element)&&(n(),l.duration?(l.element.style.opacity=0,l.element.style.transitionDuration=l.duration+"s",l.element.style.display=l.display,setTimeout(function(){l.element.style.opacity=1},25),l.element.addEventListener("transitionend",function(e){t()},!1)):t())}function d(){l.delay?setTimeout(function(){s()},1e3*l.delay):s()}var l={element:!1,id:!1,delay:!1,duration:!1,display:"block",animateHeight:!1,onStartAddClassList:!1,onStartRemoveClassList:!1,onCompleteAddClassList:!1,onCompleteRemoveClassList:!1,onComplete:!1};return argsToObject(arguments,l),{hide:function(){i()},show:function(){d()}}},window.show=function(){if("string"==typeof arguments[0]){e={id:arguments[0]};AFTC.Visibility(e).show()}else if(isElement(arguments[0])){var e={element:arguments[0]};AFTC.Visibility(e).show()}else AFTC.Visibility(arguments[0]).show()},window.fadeIn=function(){window.show(arguments[0])},window.hide=function(){if("string"==typeof arguments[0]){e={id:arguments[0]};AFTC.Visibility(e).hide()}else if(isElement(arguments[0])){var e={element:arguments[0]};AFTC.Visibility(e).hide()}else AFTC.Visibility(arguments[0]).hide()},window.fadeOut=function(){window.hide(arguments[0])},(AFTC=AFTC||{}).XHR=function(){function e(e,t){return console.error(e),i.onError&&(t?i.onError(t):i.onError(d.xhr)),!1}function t(e){if(d.percentComplete=0,e.lengthComputable?(d.percentComplete=100/e.total*e.loaded,d.percentComplete=parseFloat(d.percentComplete.toFixed(2))):d.percentComplete=0,!i.onProgress)return d.percentComplete;i.onProgress(d.percentComplete)}function r(t){4==d.xhr.readyState?"404"==d.xhr.status?e("AFTC.XHR: ERROR: Please check your URL ["+i.url+"] NOT FOUND.",d.xhr):i.onComplete&&i.onComplete(d.xhr.responseText):e("AFTC.XHR: ERROR: Please review event details!",t)}function n(e){log("AFTC.XHR.transferFailed()"),i.onError&&i.onError(e)}function a(e){log("AFTC.XHR.transferCanceled()"),i.onCancel&&i.onCancel(e)}function o(){if("GET"==i.method&&0!=i.data)return i.url=i.url+"?"+i.data,!0;if("POST"==i.method)if(i.data.append)i.dataType="formdata";else if(isArray(i.data)||"object"==typeof i.data){var e="",t=new FormData;for(var r in i.data)log(r+" = "+i.data[r]),t.append(r,i.data[r]),e+="&"+r+"="+i.data[r];return i.dataType="form",i.data=e,!0}return!0}var i={url:!1,method:!1,data:!1,dataType:!1,responseType:!1,onComplete:!1,onError:!1,onProgress:!1,onCancel:!1};if(arguments[0]&&"object"==typeof arguments[0])for(var s in arguments[0])i.hasOwnProperty(s)&&(i[s]=arguments[0][s]);var d={url:!1,requestHeader:!1,xhr:!1,readyState:!1,status:!1,responseType:!1,response:null,percentComplete:0,isImage:!1,imageType:""};return function(){if(window.XMLHttpRequest?d.xhr=new XMLHttpRequest:d.xhr=new ActiveXObject("Microsoft.XMLHTTP"),d.xhr.addEventListener("progress",t),d.xhr.addEventListener("load",r),d.xhr.addEventListener("error",n),d.xhr.addEventListener("abort",a),i.method?i.method=String(i.method).toUpperCase():i.method="GET",i.dataType?i.dataType=String(i.dataType).toLowerCase():i.dataType="form","GET"==i.method&&"form"!=i.dataType)return msg="AFTC.XHR: ERROR: GET only supports the 'form' data type (key value pairs eg a=1&b=2)",console.error(msg),i.onError&&i.onError(msg),!1;if("form"!=i.dataType&&"formdata"!=i.dataType&&"json"!=i.dataType&&"array"!=i.dataType&&"object"!=i.dataType)return msg="AFTC.XHR: ERROR: The dataType option only supports 'form', 'formdata', 'json', 'array' or 'object'",console.error(msg),i.onError&&i.onError(msg),!1;if(!i.url)return msg="AFTC.XHR: ERROR: Please specify a URL!",console.error(msg),i.onError&&i.onError(msg),!1;if(i.responseType&&(i.responseType=String(i.responseType).toLowerCase(),-1!=i.responseType.indexOf("json")&&(d.xhr.responseType="json")),i.data)switch(o(),"form"==i.dataType?d.requestHeader="application/x-www-form-urlencoded; charset=utf-8":"formdata"==i.dataType||"json"==i.dataType&&(d.requestHeader="application/json; charset=utf-8"),d.xhr.open(i.method,i.url,!0),d.requestHeader&&d.xhr.setRequestHeader("Content-Type",d.requestHeader),i.method){case"GET":d.xhr.send();break;default:d.xhr.send(i.data)}else d.xhr.open(i.method,i.url,!0),d.xhr.send()}(),{url:i.url,method:i.method,data:i.data,dataType:i.dataType,xhr:d.xhr,readyState:d.readyState,status:d.status,response:d.response,responseType:d.responseType}};