function getFunctionName(e){return/function ([^\(]*)/.exec(e.toString())[1]}(AFTC=AFTC||{}).ArgsToObject=function(e,t,n){if(n||(n=!0),e&&"object"==typeof e)for(var o in e)n?t.hasOwnProperty(o)?t[o]=e[o]:console.error("AFTC.ArgsToObject(): Argument ["+o+"] is not supported."):t[o]=e[o]},AFTC.GetElement={vars:{cache:[]},by:function(e,t){var n=AFTC.GetElement.vars.cache[t]||!1;if(n)return n;switch(e.toLowerCase()){case"id":return AFTC.GetElement.vars.cache[t]=document.getElementById(t),AFTC.GetElement.vars.cache[t];case"class":return AFTC.GetElement.vars.cache[t]=document.getElementsByClassName(t),AFTC.GetElement.vars.cache[t];case"query":return AFTC.GetElement.vars.cache[t]=document.querySelector(t),AFTC.GetElement.vars.cache[t];case"tag":return AFTC.GetElement.vars.cache[t]=document.getElementsByTagName(t),AFTC.GetElement.vars.cache[t];case"name":return AFTC.GetElement.vars.cache[t]=document.getElementsByName(t),AFTC.GetElement.vars.cache[t]}}},window.getElementById=function(e){return AFTC.GetElement.by("id",e)},window.getId=function(e){return window.getElementById(e)},window.byId=function(e){return window.getElementById(e)},window.querySelector=function(e){return AFTC.GetElement.by("query",e)},window.query=function(e){return window.querySelector(e)},window.getElementsByName=function(e){return AFTC.GetElement.by("name",e)},window.getElementByName=function(e){return AFTC.GetElement.by("name",e)[0]},window.getElementsByClassName=function(e){return AFTC.GetElement.by("class",e)},window.getElementByClassName=function(e){return AFTC.GetElement.by("class",e)[0]},window.getElementsByTagName=function(e){return AFTC.GetElement.by("tag",e)},window.getElementByTagName=function(e){return AFTC.GetElement.by("tag",e)[0]},HTMLElement.getElementByClassName=function(e){return console.log("HERE"),AFTC.GetElement.by("class",e)[0]},AFTC.Log={enabled:!0,element:!1,enable:function(){enabled=!0},disable:function(){enabled=!1},to:function(e){void 0!=e&&null!=e&&e?("string"==typeof e&&(e=getElementById(e)),isElement(e)?AFTC.Log.element=e:console.error("logTo(arg) ERROR: Supplied arg is not an ID or Element! To turn off logTo HTML element, don't supply an argument or use false.")):AFTC.Log.element=!1},out:function(e){if(console&&AFTC.Log.enabled&&(void 0===e?console.error('log(arg) ERROR: Your log variable (arg) is "undefined"!'):console.log(e),0!=AFTC.Log.element))if(isElement(e))AFTC.Log.element.innerHTML+=e+"<br>";else if("object"==typeof e){AFTC.Log.element.innerHTML+="[object]<br>";for(var t in e)AFTC.Log.element.innerHTML+="&nbsp;&nbsp;&nbsp;&nbsp;"+t+" = "+e[t]+"<br>"}else AFTC.Log.element.innerHTML+=e+"<br>"}},window.logTo=function(e){AFTC.Log.to(e)},window.log=function(e){AFTC.Log.out(e)},window.trace=function(e){AFTC.Log.out(e)},window.logEnable=function(){AFTC.Log.enabled=!0},window.log.enable=function(){AFTC.Log.enabled=!0},window.logDisable=function(){AFTC.Log.enabled=!1},window.log.disable=function(){AFTC.Log.enabled=!1},window.logToDisable=function(){AFTC.Log.to(!1)},window.disableLogTo=function(){AFTC.Log.to(!1)},window.cls=function(){console&&console.clear&&console.clear(),AFTC.Log.element&&(AFTC.Log.element.innerHTML="")},window.clearLog=function(){cls()},AFTC.VLog=function(){if(!(this instanceof arguments.callee))throw new Error("\nAFTC.DOM.HideShow: USAGE ERROR: Constructor called as a function.\nPlease use new AFTC.DOM.HideHsow({})");new AFTC.ArgsToObject(arguments[0],{})},window.openDebugWindow=function(e){var t=window.open("debug","debug","width=1200,height=400,resizeable,scrollbars");t.document.title="Debug",t.document.write("<style>body {width:100%;}</style>"),t.document.write("<div style='display:block;width:98%;-ms-word-wrap:break-word ;word-wrap:break-word;border:1px solid #000000;'>"+e+"</div>"),t.document.close()},window.stringToWindow=function(e){openDebugWindow(e)},window.addEvent=function(e,t,n,o){null!=e&&void 0!==e&&(e.addEventListener?e.addEventListener(t,n,!!o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},window.onReady=function(e){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",function(){setTimeout(e,10)})},window.ready=function(e){window.onReady(e)},window.arrayRemoveIndex=function(e,t){return e.splice(t)},window.isStringInArray=function(e,t){return new RegExp("("+t.join("|").replace(/\./g,"\\.")+")$").test(e)},window.arrayContains=function(e,t){return e.indexOf(t)>-1},window.arrayRemove=function(e,t){return window.arrayContains(t)?e.splice(e.indexOf(t),1):this},window.arrayRemoveItem=function(e,t){return arrayRemove(e,t)},window.arrayEmpty=function(e){for(;e.length>0;)e.pop()},window.arrayClear=function(e){window.arrayEmpty(e)},window.getMaxFromArray=function(e){return Math.max.apply(Math,e)},window.arrayGetMax=function(e){return getMaxFromArray(e)},window.arrayMax=function(e){return getMaxFromArray(e)},window.arrayGetMin=function(e){return Math.min.apply(Math,e)},window.getMinFromArray=function(e){return arrayGetMin(e)},window.arrayMin=function(e){return arrayGetMin(e)},window.arrayShuffle=function(e){var t=getRandom(2,3);return log(t),window["arrayShuffle"+t](e)},window.shuffleArray=function(e){return arrayShuffle(e)},window.arrayShuffle2=function(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e},window.arrayShuffle3=function(e){for(var t,n,o=new Uint32Array(1),r=0,i=e.length-1,a=e.length;r<i;r++,a--)crypto.getRandomValues(o),t=Math.floor(o/65536/65536*a)+r,n=e[r],e[r]=e[t],e[t]=n;return e},window.isEven=function(e){return e%2==0},window.isOdd=function(e){return 1==Math.abs(e%2)},window.isAlphaNumeric=function(e){return!/\W/.test(e)},window.isElement=function(e){return 1==("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)},window.isElement2=function(e){return e instanceof Element},window.isDOM=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},window.isBoolean=function(e){return"boolean"==typeof e},window.isBool=function(e){return isBoolean(e)},window.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},window.isNumber=function(e){return isNumeric(e)},window.isArray=function(e){return!!e&&e.constructor===Array},window.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},window.getRandom=function(e,t){return getRandomInt(e,t)},window.getRandomFloat=function(e,t){return Math.random()*(t-e)+e},window.randomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},window.getRandomString=function(e){return randomString(e)},window.getUniqueId=function(){return randomString(5)+Math.random().toString(36).substr(2,8)},window.getUID=function(){return getUniqueId()},window.generateRandomId=function(){return getUniqueId()},window.generateUID=function(){return getUniqueId()},window.getArrayOfRandomNumbers=function(e,t,n){for(var o=[],r=0;r<e;r++)o[r]=getRandom(t,n);return o},window.getArrayOfRandomStrings=function(e,t){for(var n=[],o=0;o<e;o++)n[o]=getRandomString(t);return n},window.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},window.getGUID=function(){return guid()},window.generateUniqueId=function(){return guid()},window.getWeightedRandom=function(e,t){e||(e=[.68,.69,.698,.6909,.68,.58,.57,.56,.4,.3]);var n=[],o=0,r=0;for(var i in e){n[i]||(n[i]=0);for(var a=0;a<t;a++)Math.random()<=e[i]&&(n[i]+=e[i]);n[i]>r&&(r=n[i],o=i)}return o},window.limitLengthInWords=function(e,t){var n=e.value,o=n.split(/\S+/).length-1,r=new RegExp("^\\s*\\S+(?:\\s+\\S+){0,"+(t-1)+"}");return o>=t?(e.value=n.match(r),document.getElementById("word_count").innerHTML="",wcount_valid=!0):(document.getElementById("word_count").innerHTML=t-o+" words remaining",wcount_valid=!1),wcount_valid},window.cleanJSONString=function(e){return e=e.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f"),e=e.replace(/[\u0000-\u0019]+/g,"")},window.escapeHTML=function(e){var t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","`":"&#039;"};return e.replace(/[<>&"]/g,function(e){return t[e]})},window.trimStringLength=function(e,t){return e.substring(0,t)},window.getFileExtension=function(e){e.split(".").pop();return e},window.getFileExtension2=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))},window.getLastPartOfUrl=function(){var e=window.location.href;return e.substring(e.lastIndexOf("/")+1)},window.removeFileFromPath=function(e){return e=e.replace(/[^\/]*$/,"")},window.getAnchorFromUrl=function(e){return e.slice(e.lastIndexOf("#")+1)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.match(new RegExp("^"+e))}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.match(new RegExp(e+"$"))}),window.getStringBetween=function(e,t,n){return e.split(t).pop().split(n).shift().trim()},window.getAllStringsBetween=function(e,t,n){for(var o=0;o<e.length;++o)log(e[o])},window.radToDeg=function(e){return e*(180/Math.PI)},window.rad2deg=function(e){return radToDeg(e)},window.degToRad=function(e){return e*(Math.PI/180)},window.deg2rad=function(e){return degToRad(e)},window.numberToHex=function(e){return e.toString(16)},window.decToHex=function(e){return numberToHex(e)},window.decimalToHex=function(e){return numberToHex(e)},window.boolToString=function(e){return e&&void 0!=e&&"boolean"==typeof e?e?"true":"false":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.boolToYesNo=function(e){return e&&void 0!=e&&"boolean"==typeof e?e?"yes":"no":(console.log("AFTC.js: Conversion.js: boolToString(str): Error - input is not a boolean!"),"error")},window.stringToBool=function(e){if(!e||void 0==e||"string"!=typeof e)return console.log("AFTC.js: Conversion.js: stringToBoolean(str): Error - input str is not valid!"),!1;switch(e.toLowerCase()){case"y":case"yes":case"1":case"true":case"y":return!0;default:return!1}},window.getBooleanFrom=function(e){return!(null==e||""==e||!e)&&("string"==typeof e?stringToBool(e):"number"==typeof e?!(e<=0):void 0)},window.parseArrayToFloat=function(e){for(var t=0;t<e.length;t++)e[t]=parseFloat(e[t]);return e},window.arrayToFloat=function(e){return parseArrayToFloat(e)},window.parseArrayToInt=function(e){for(var t=0;t<e.length;t++)e[t]=parseInt(e[t]);return e},window.arrayToInt=function(e){return parseArrayToInt(e)},window.convertToArray=function(e){var t=[];return t[0]=e,t},window.valueToArray=function(e){return convertToArray(e)},window.getDaysBetween=function(e,t){var n=new Date(e),o=new Date(t);return n.setHours(12,0,0),o.setHours(12,0,0),Math.round((o-n)/864e5)},window.getNoOfDaysBetween=function(e,t){return getDaysBetween(e,t)},window.getDaysBetweenDates=function(e,t){return getDaysBetween(e,t)},window.getUkDateFromDbDateTime=function(e){if(""==e||null==e)return"no input";var t=e.split(" ")[0].split("-");return t[2]+"/"+t[1]+"/"+t[0]},window.getUkDateTimeFromDbDateTime=function(e){var t=e.split(" "),n=t[0].split("-"),o=t[1].split(":");return n[2]+"/"+n[1]+"/"+n[0]+" "+(o[0]+":"+o[1])},window.getSQLDateTime=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),r=e.getHours(),i=e.getMinutes(),a=e.getSeconds();if(1==n.toString().length)n="0"+n;if(1==o.toString().length)o="0"+o;if(1==r.toString().length)r="0"+r;if(1==i.toString().length)i="0"+i;if(1==a.toString().length)a="0"+a;return t+"/"+n+"/"+o+" "+r+":"+i+":"+a},window.getDateTime=function(e){var t=new Date,n="";switch(e||(e="en-GB"),e.toLowerCase()){case"db":n=getSQLDateTime();break;case"us":n=(n=t.toLocaleString("en-US",{hour12:!1,month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})).replace(",","");break;default:n=(n=t.toLocaleString("en-GB")).replace(",","")}return n},window.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},window.isValidEmail=function(e){return validateEmail(e)},window.isMobile=function(){return!!/windows phone/i.test(navigator.userAgent.toLowerCase())||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},window.isAndroid=function(){var e=navigator.userAgent.toLowerCase();return!/windows phone/i.test(e)&&e.indexOf("android")>-1},window.iOS=function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1},window.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},window.isChrome=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},window.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},window.isIE=function(){return navigator.userAgent.toLowerCase().indexOf("MSIE")>-1},window.isOpera=function(){window.chrome;var e=!!navigator.userAgent.match(/Opera|OPR\//);return!!e},window.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},window.getBrowser=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE"):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera":(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n[0])},window.getOS=function(e){var t;return t=e||(navigator.userAgent||navigator.vendor||window.opera),t=t.toLowerCase(),/windows phone/i.test(t)?{os:"windows phone",userAgent:t}:/samsungbrowser/i.test(t)?{os:"android",userAgent:t}:/android/i.test(t)?{os:"android",userAgent:t}:/ipad|iphone|ipod/i.test(t)?{os:"ios",userAgent:t}:/win64|win32|win16|win95|win98|windows 2000|windows xp|msie|windows nt 6.3; trident|windows nt|windows/i.test(t)?{os:"windows",userAgent:t}:/os x/i.test(t)?{os:"osx",userAgent:t}:/macintosh|osx/i.test(t)?{os:"osx",userAgent:t}:/openbsd/i.test(t)?{os:"open bsd",userAgent:t}:/sunos/i.test(t)?{os:"sunos",userAgent:t}:/crkey/i.test(t)?{os:"chromecast",userAgent:t}:/appletv/i.test(t)?{os:"apple tv",userAgent:t}:/wiiu/i.test(t)?{os:"nintendo wiiu",userAgent:t}:/nintendo 3ds/i.test(t)?{os:"nintendo 3ds",userAgent:t}:/playstation/i.test(t)?{os:"playstation",userAgent:t}:/kindle/i.test(t)?{os:"amazon kindle",userAgent:t}:/ cros /i.test(t)?{os:"chrome os",userAgent:t}:/ubuntu/i.test(t)?{os:"ubuntu",userAgent:t}:/googlebot/i.test(t)?{os:"google bot",userAgent:t}:/bingbot/i.test(t)?{os:"bing bot",userAgent:t}:/yahoo! slurp/i.test(t)?{os:"yahoo bot",userAgent:t}:{os:!1,userAgent:t}};var AFTC=AFTC||{};window.setHTML=function(e,t){var n;if("string"==typeof e&&(n=getElementById(e)),!isElement(n))return"unable to retrieve element from ["+e+"]";n.innerHTML=t},window.html=function(e,t){window.setHTML(e,t)},window.getElementOffsetTop=function(e){var t=getElementById(e),n=0;if(isElement(t)&&t.offsetParent){do{n+=t.offsetTop}while(t=t.offsetParent);return parseFloat([n])}},window.getElementTopOffset=function(e){getElementOffsetTop(e)},window.AFTCLockBodyParams={pageYOffset:null,elementId:""},window.lockBody=function(){if(!arguments[0]||"object"!=typeof arguments[0]){var e="\n";throw e+="AFTC.js > dom.js > lockBody() usage:\n",e+="lockBody({elementId:'PageContainmentDivId'});\n",e+="unlockBody();\n"}for(var t in arguments[0]){if(!window.AFTCLockBodyParams.hasOwnProperty(t))throw"AFTC.js > dom.js > lockBody(): Usage Error - Unknown parameter ["+t+"]";window.AFTCLockBodyParams[t]=arguments[0][t]}window.pageYOffset&&(window.AFTCLockBodyParams.pageYOffset=window.pageYOffset,$("html, body").css({top:-window.AFTCLockBodyParams.pageYOffset})),$("#"+window.AFTCLockBodyParams.elementId).css({height:"100%",overflow:"hidden"})},window.unlockBody=function(){$("#"+window.AFTCLockBodyParams.elementId).css({height:"",overflow:""}),$("html, body").css({top:""}),window.scrollTo(0,window.AFTCLockBodyParams.pageYOffset),window.setTimeout(function(){window.AFTCLockBodyParams.pageYOffset=null},0)},window.centerAbsoluteElement=function(e){var t;if("string"==typeof e&&!(t=document.getElementById(e)))throw"AFTC.js > centerAbsoluteElement(elementOrElementId): ERROR! elementId supplied was not found on the DOM!";var n=parseInt(t.offsetWidth),o=parseInt(t.offsetHeight),r=window.innerWidth/2-n/2,i=window.innerHeight/2-o/2;t.style.left=r+"px",t.style.top=i+"px"},window.addClass=function(e,t){var n;if("string"==typeof e&&(n=getElementById(e)),isArray(t))for(var o=0;o<t.length;o++)n.classList.add(t[o]);else n.classList.add(t)},window.addClassTo=function(e,t){addClass(e,t)},window.removeClass=function(e,t){isElement(e)?e.classList.remove(t):(log("elementOrId ="+e),log("className ="+t),getElementById(e).classList.remove(t))},window.removeClassFrom=function(e,t){removeClass(e,t)},window.hasClass=function(e,t){return isElement(e)?e.classList.contains(t):getElementById(e).classList.contains(t)},window.isBreakPoint=function(e){for(var t,n,o=[320,480,768,1024],r=window.innerWidth,i=0,a=o.length;i<a;i++)if(o[i]===e){t=o[i-1]||0,n=o[i];break}return r>t&&r<=n},window.redirect=function(e){self.location.href=e},window.goFullScreen=function(e){var t=document.body;void 0!=e&&isElement(e)&&(t=e),t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():console.error("Fullscreen API is not supported.")},window.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.error("Fullscreen API is not supported.")},window.setCookie=function(e,t){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=e+"="+t+";expires="+n.toUTCString()},window.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|)");return t?t[2]:null},window.isChecked=function(e){return document.getElementById(e).checked},window.isNumberKey=function(e){var t=e.which?e.which:event.keyCode;return!(t>31&&(t<48||t>57))},window.removeAllSelectOptions=function(e){var t;if("string"==typeof e&&!(t=document.getElementById(e)))throw"AFTC.js > parseJSONToSelect() Usage ERROR, Unable to find anything on the DOM with an ID of ["+e+"]";if(t)for(var n=t.options.length-1;n>=0;n--)t.remove(n)},window.parseJSONToSelect=function(e,t,n,o){var r;if("string"==typeof t&&!(r=document.getElementById(t)))throw"AFTC.js > parseJSONToSelect() Usage ERROR, Unable to find anything on the DOM with an ID of ["+t+"]";"object"==typeof t&&(r=t),"string"==typeof e&&(e=JSON.parse(e));for(var i=0;i<e.length;i++){var n=e[i][n],a=e[i][o],s=document.createElement("option");s.text=n,s.value=a,r.add(s)}},AFTC.Point=function(e,t){this.x=e||0,this.y=t||0},AFTC.Rectangle=function(e,t,n,o){this.x1=e||0,this.y1=t||0,this.x2=n||0,this.y2=o||0},window.playSound=function(e,t,n,o){var r=e,i=new Audio(r);return i.volume=t||1,n&&i.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),o&&snd.addEventListener("ended",o,!1),i.play(),i},AFTC.Animate=function(e,t){function n(e,t,n,o){if("set"!=(e=String(e).toLowerCase())&&"anim"!=e&&"delay"!=e)throw w.error.flag=!0,w.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - unhandled type of ["+e+"]",w.error.msg;var r=isArray(t),i=isArray(n),a=isArray(o);if(r!=i&&r!=a)throw w.error.flag=!0,w.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - please ensure all your params are either arrays or single values",w.error.msg;if(r&&i&&a&&t.length!=n.length&&t.length!=o.length)throw w.error.flag=!0,w.error.msg="AFTC.js > AFTC.Animate.addStackItem(): Error - please ensure all your params are arrays are the same size",w.error.msg;r||i||a||(t=convertToArray(t),n=convertToArray(n),o=convertToArray(o));var s=new m;if(s.type=e,w.stackCount++,s.uid="stk"+w.stackCount,"anim"==e||"set"==e){for(var d=0;d<t.length;d++){(y=new p).style=t[d],y.time.duration=1e3*parseFloat(o);var l=n[d];if(c(l)){var h=u(l);y.end.r=h[0],y.end.g=h[1],y.end.b=h[2],y.end.a=h[3],y.end.rgba=!0,y.end.suffix=f(l)}else"html"==y.style.toLowerCase()?y.end.v=l:(y.end.v=parseFloat(l),isNaN(y.end.v)&&(y.end.v=l)),y.end.rgba=!1,y.end.suffix=f(l);s.definitions.push(y)}w.stack.push(s)}else if("delay"==e){var y=new g;y.duration=1e3*parseFloat(o),s.definitions.push(y),w.stack.push(s)}}function o(){w.state.started=!0,w.state.stopped=!1,w.active.stackIndex=0,w.active.defIndex=0,y=0,r()}function r(){if(w.active.stackIndex>=w.stack.length)d();else if(y>=h)console.error("AFTC.Animate.selectStack(): ERROR: Run count limit triggered");else{y++,w.active.defIndex=0;var e=w.stack[w.active.stackIndex],t=e.definitions;if(w.active.defIndex=0,"delay"==e.type){var n=e.definitions[0];n.start||(n.start=(new Date).getTime(),n.end=n.start+n.duration),s()}else if("set"==e.type)a();else if("anim"==e.type){for(var o=0;o<t.length;o++)l(o);T=0,i()}else log("PROCESS: ERROR - UNKNOWN type ["+e.type+"]")}}function i(){if(T>v)console.error("processAnim(): RUN LIMIT REACHED!");else{T++;for(var e=w.stack[w.active.stackIndex].definitions,t=!0,n=0;n<e.length;n++){var o=e[n],a=(new Date).getTime()-o.time.start,s=0,d="";a<o.time.duration?(o.start.rgba&&o.end.rgba?(d+="ct:"+a+"  v:"+(s="RGBA("+Math.round(o.start.r+o.step.r*a)+","+Math.round(o.start.g+o.step.g*a)+","+Math.round(o.start.b+o.step.b*a)+","+(o.start.a+o.step.a*a).toFixed(2)+")")+"   target:"+("RGBA("+o.end.r+","+o.end.g+","+o.end.b+","+o.end.a.toFixed(2)+")")+"  ",d+="  current:"+("RGBA("+o.start.r+","+o.start.g+","+o.start.b+","+o.start.a.toFixed(2)+")")+"  rs:"+o.step.r+"  ra:"+o.step.a,w.element.style[o.style]=s):(d+="ct:"+a+"  v:"+(s=o.start.v+o.step.v*a)+"  range:"+o.range.v+"  ",d+="current:"+o.start.v+"  target:"+o.end.v+"  step:"+o.step.v,w.element.style[o.style]=s+o.end.suffix),t=!1):o.start.rgba&&o.end.rgba?(s="RGBA("+o.end.r+","+o.end.g+","+o.end.b+","+o.end.a.toFixed(2)+")",w.element.style[o.style]=s):(d+="ct:"+a+"  v:"+(s=o.end.v)+"  range:"+o.range.v+"  ",d+="current:"+o.start.v+"  target:"+o.end.v+"  step:"+o.step.v,w.element.style[o.style]=s+o.end.suffix)}t?(w.active.stackIndex++,r()):requestAnimationFrame(i)}}function a(){for(var e=w.stack[w.active.stackIndex].definitions,t=0;t<e.length;t++){var n=e[t];if("html"==n.style.toLowerCase())w.element.innerHTML=n.end.v;else if(n.end.rgba)o="RGBA("+n.end.r+","+n.end.g+","+n.end.b+","+n.end.a+")",w.element.style[n.style]=o;else{var o=n.end.v+n.end.suffix;w.element.style[n.style]=o}}w.active.stackIndex++,w.active.defIndex=0,r()}function s(){var e=w.stack[w.active.stackIndex],t=(e.definitions,e.definitions[0]);(new Date).getTime()-t.start<t.duration?requestAnimationFrame(s):(w.active.stackIndex++,w.active.defIndex=0,r())}function d(){"function"==typeof w.onComplete&&w.onComplete()}function l(e){var t=w.stack[w.active.stackIndex],n=t.definitions[e],o=getComputedStyle(w.element)[n.style];if(c(o)){var r=u(o);n.start.r=r[0],n.start.g=r[1],n.start.b=r[2],n.start.a=r[3],n.start.rgba=!0,n.start.suffix=f(o)}else n.start.v=parseFloat(o),n.start.rgba=!1,n.start.suffix=f(o);if("anim"==t.type&&(n.start.rgba&&n.end.rgba?(n.range.r=n.end.r-n.start.r,n.range.g=n.end.g-n.start.g,n.range.b=n.end.b-n.start.b,n.range.a=n.end.a-n.start.a,n.step.r=n.range.r/n.time.duration,n.step.g=n.range.g/n.time.duration,n.step.b=n.range.b/n.time.duration,n.step.a=n.range.a/n.time.duration):(n.range.v=n.end.v-n.start.v,n.step.v=n.range.v/n.time.duration),n.time.start=(new Date).getTime()+0,n.time.end=n.time.start+n.time.duration,n.start.rgba!==n.end.rgba&&n.start.suffix!==n.end.suffix&&"set"!=set))return w.error.flag=!0,w.error.msg="AFTC.js > AFTC.Animate(): Error - Unable to process set or animate for style ["+n.style+"] due to start and end value datatypes not being the same!\n",w.error.msg+="startValueIsRGB:["+n.start.rgba+"]  endValueIsRGB:["+n.end.rgba+"]  ",w.error.msg+="startSuffix:["+n.start.suffix+"]  endSuffix:["+n.end.suffix+"]",console.error(w.error.msg),void(n.valid=!1)}function u(e){e=(e=(e=(e=(e=(e=String(e).toLowerCase()).replace(" ","")).replace("rgba","")).replace("rgb","")).replace("(","")).replace(")",""),parts=e.split(",");for(var t=0;t<parts.length;t++)parts[t]=parseFloat(parts[t]);return 3==parts.length&&parts.push(1),parts}function c(e){return(e=String(e).toLowerCase()).indexOf("rgb")>-1}function f(e){return(e=String(e).toLowerCase()).indexOf("px")>-1?"px":e.indexOf("%")>-1?"%":e.indexOf("rem")>-1?"rem":e.indexOf("em")>-1?"em":e.indexOf("rem")>-1?"rem":""}var w={error:{error:!1,msg:""},elementId:!1,element:!1,onComplete:!1,stack:[],stackCount:0,active:{stackIndex:!1,defIndex:!1,definition:!1},state:{started:!1,stopped:!1},onComplete:!1},m=function(){this.type="",this.definitions=[],this.uid=0},g=function(){this.duration=!1,this.start=!1,this.end=!1},p=function(){this.style="",this.valid=!0,this.start={v:!1,rgba:!1,r:!1,g:!1,b:!1,a:!1,suffix:!1},this.end={v:!1,rgba:!1,r:!1,g:!1,b:!1,a:!1,suffix:!1},this.range={v:!1,r:!1,g:!1,b:!1,a:!1},this.step={v:!1,r:!1,g:!1,b:!1,a:!1},this.time={start:!1,end:!1,duration:!1}},h=2e3,y=0,v=2e3,T=0;this.animate=function(e,t,o){return n("anim",e,t,o),this},this.anim=function(e,t,o){return n("anim",e,t,o),this},this.setProp=function(e,t){return n("set",e,t,0),this},this.set=function(e,t){return n("set",e,t,0),this},this.delay=function(e){return n("delay","",0,e),this},this.wait=function(e){return n("delay","",0,e),this},this.pause=function(e){return n("delay","",0,e),this},this.repeat=function(e){o()},this.start=function(){o()},this.stop=function(){stop()},function(){if(w.elementId=e,w.onComplete=t,w.element=getElementById(e),!isElement(w.element))throw w.error.msg="AFTC.js > AFTC.Animate(): Usage error, unable to locate an element with id ["+w.elementId+"] on the DOM!",w.error.msg}()},window.fadeIn=function(e,t){var n=new AFTC.Animate(e,function(){n=null,delete n});n.anim(["opacity"],[1],[t]),n.start()},window.fadeOut=function(e,t){var n=new AFTC.Animate(e,function(){n=null,delete n});n.anim(["opacity"],[0],[t]),n.start()},window.scrollToElement=function(e,t,n){getElementById(e);var o=getElementOffsetTop(e);void 0!==n&&(o+=parseFloat(n));var r,i=document.documentElement.scrollTop,a=document.documentElement.scrollTop,s=Math.abs(o-i),d=1e3*t,l=null,u=0;if(i>o-3&&i<o+3)return!1;var c="scroll up";o>i&&(c="scroll down");var f=function(e){if(l||(l=e,r=e+d,u=s/d),r)if(a=document.documentElement.scrollTop,"scroll down"==c)(t=i+u*(e-l))>o&&(t=o),t>=o?(delete l,delete r,delete d,delete u,window.scrollTo(0,o)):(window.scrollTo(0,t),requestAnimationFrame(f));else{var t=i-u*(e-l);t<o&&(t=o),t<=o?(delete l,delete r,delete d,delete u,window.scrollTo(0,o)):(window.scrollTo(0,t),requestAnimationFrame(f))}else requestAnimationFrame(f)};f()},AFTC.Canvas=function(){if(!(this instanceof arguments.callee))throw new Error("\nAFTC.Canvas: USAGE ERROR: Constructor called as a function.\nPlease use new AFTC.DOM.HideHsow({})");var e={id:!1,canvas:!1},t={canvas:!1,context:!1};new AFTC.ArgsToObject(arguments[0],e),this.drawCircle=function(e){var n={x:0,y:0,radius:20,fillColor:"#FFCC00",borderWidth:2,borderColor:"#000000"};AFTC.ArgsToObject(e,n),t.context.beginPath(),t.context.arc(n.x,n.y,n.radius,0,2*Math.PI,!1),t.context.fillStyle=n.fillColor,t.context.fill(),t.context.lineWidth=n.borderWidth,t.context.strokeStyle=n.borderColor,t.context.stroke()},this.drawLine=function(e){var n={fromX:0,fromY:0,toX:100,toY:1,color:"#FFCC00",lineWidth:1};AFTC.ArgsToObject(e,n),t.context.beginPath(),t.context.moveTo(n.fromX,n.fromY),t.context.lineTo(n.toX,n.toY),t.context.lineWidth=n.lineWidth,t.context.strokeStyle=n.color,t.context.stroke()},this.attachImage=function(){var e={src:!1,id:!1,img:!1,x:!1,y:!1,w:-1,h:-1,onComplete:!1},n={img:!1,canvas:t.canvas,context:t.context};AFTC.ArgsToObject(arguments[0],e),!e.src||e.id||e.img?e.src||!e.id||e.img?e.src||e.id||!e.img?console.error("AFTC.Canvas().attachImage(): Error please set the correct arguments..."):(-1!=e.w&&-1!=e.h?n.context.drawImage(e.img,e.x,e.y,e.w,e.h):n.context.drawImage(e.img,e.x,e.y),e.onComplete&&e.onComplete()):(e.img=getElementById(e.id),-1!=e.w&&-1!=e.h?n.context.drawImage(e.img,e.x,e.y,e.w,e.h):n.context.drawImage(e.img,e.x,e.y),e.onComplete&&e.onComplete()):(n.img=new Image,n.img.onload=function(){-1!=e.w&&-1!=e.h?n.context.drawImage(this,e.x,e.y,e.w,e.h):n.context.drawImage(this,e.x,e.y)},n.img.src=e.src,e.onComplete&&e.onComplete())},this.attachText=function(e){var n={text:"undefined",size:14,font:"arial",color:!1,stroke:!1,strokeSize:1,x:0,y:0},o={canvas:t.canvas,context:t.context};AFTC.ArgsToObject(e,n),n.size=parseInt(n.size),o.context.font=n.size+"px "+n.font,o.context.lineWidth=n.strokeSize,n.color&&(o.context.fillStyle=n.color,o.context.fillText(n.text,n.x,n.y)),n.stroke&&(o.context.strokeStyle=n.stroke,o.context.strokeText(n.text,n.x,n.y))},this.getCanvas=function(){return t.canvas},this.getContext=function(){return t.context},this.getWidth=function(){return t.canvas.width},this.getHeight=function(){return t.canvas.height},this.setWidth=function(e){t.canvas.width=e},this.setHeight=function(e){t.canvas.height=e},this.setSize=function(e,n){t.canvas.width=e,t.canvas.height=n},this.getParams=function(){return t},this.clear=function(){t.context.clearRect(0,0,t.canvas.width,t.canvas.height)},e.id&&!e.canvas?t.canvas=getElementById(e.id):!e.id&&e.canvas?t.canvas=e.canvas:t.canvas=document.createElement("canvas"),t.context=t.canvas.getContext("2d")},window.getHSLColor=function(e){return["hsl(",(120*(1-e)).toString(10),",100%,50%)"].join("")},window.rgb2Hex=function(e,t,n){return(e<<16|t<<8|n).toString(16)},window.rgbToHex=function(e,t,n){function o(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var r="#"+o(e)+o(t)+o(n);return r=r.toUpperCase()},window.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},window.hex2Rgb=function(e){return window.hexToRgb(e)},AFTC.Color=function(){function e(e){return parseInt(e,16)}function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var n=this,o={r:!1,g:!1,b:!1,a:!1,hex:!1},r={random:!0,r:!1,g:!1,b:!1,a:!1};arguments[0]&&"object"==typeof arguments[0]&&(new AFTC.ArgsToObject(arguments[0],o),r.random=!1),this.randomizeColor=function(){r.r=Math.round(255*Math.random()),r.g=Math.round(255*Math.random()),r.b=Math.round(255*Math.random()),r.a=1},this.getRGBSstring=function(){return"RGB("+r.r+","+r.g+","+r.b+")"},this.getRGBASstring=function(){return"RGBA("+r.r+","+r.g+","+r.b+","+r.a+")"},this.getHexString=function(){var e="#"+t(r.r)+t(r.g)+t(r.b);return e=e.toUpperCase()},this.getHex=function(){return this.getHexString()},this.hex=function(){return this.getHex()},this.getRGB=function(){return this.getRGBSstring()},this.rgb=function(){return this.getRGB()},this.getRGBA=function(){return this.getRGBASstring()},this.rgba=function(){return this.getRGBA()},function(){if(r.random)n.randomizeColor();else if(o.hex){r.hex=o.hex,o.hex=o.hex.replace("#","");var t=o.hex.match(/.{1,2}/g);r.r=e(t[0]),r.g=e(t[1]),r.b=e(t[2]),r.a=1}else o.hex||o.a?!o.hex&&o.a?(o.r?r.r=o.r:r.r=0,o.g?r.g=o.g:r.g=0,o.b?r.b=o.b:r.b=0,o.a?r.a=o.a:r.a=0):(console.log("AFTC.Color(): Invalid color or arguments supplied! Use {r:0,g:0,b:0} or {r:0,g:0,b:0,a:1} or {hex:'#FFFFFF'}"),n.randomizeColor(),r.random=!0):(o.r?r.r=o.r:r.r=0,o.g?r.g=o.g:r.g=0,o.b?r.b=o.b:r.b=0,r.a=1)}()},window.getRandomColor=function(){return new AFTC.Color},window.getRandomHexColor=function(){return(new AFTC.Color).getHex()},window.getRandomRGBString=function(){return(new AFTC.Color).getRGB()},window.getRandomRGBAString=function(){return(new AFTC.Color).getRGBA()},window.getRandomRGBColor=function(){return(new AFTC.Color).getRGB()},(AFTC=AFTC||{}).Visibility=function(){function e(){!l.element&&l.id&&(l.element=getElementById(l.id))}function t(e){if(isArray(e))for(var t in e){var n=e[t];try{l.element.classList.remove(n)}catch(e){}}else if("string"==typeof e)try{l.element.classList.remove(e)}catch(e){}}function n(e){if(isArray(e))for(var t in e){var n=e[t];try{l.element.classList.add(n)}catch(e){}}else if("string"==typeof e)try{l.element.classList.add(e)}catch(e){}}function o(){l.onStartAddClassList&&n(l.onStartAddClassList),l.onStartRemoveClassList&&t(l.onStartRemoveClassList)}function r(){l.onCompleteAddClassList&&n(l.onCompleteAddClassList),l.onCompleteRemoveClassList&&t(l.onCompleteRemoveClassList)}function i(){function t(){l.element.style.transitionDuration="0s",l.element.style.display="none",r(),l.onComplete&&l.onComplete()}e(),l.element&&isElement(l.element)&&(o(),l.duration?(l.element.style.transitionDuration=l.duration+"s",l.element.style.opacity=0,l.element.style.overflow="hidden",l.animateHeight&&(l.element.style.height=getComputedStyle(l.element).height,setTimeout(function(){l.element.style.height="0px",l.element.style.marginTop="0px",l.element.style.marginBottom="0px"},25)),l.element.addEventListener("transitionend",function(e){t()},!1)):(l.element.style.display="none",t()))}function a(){l.delay?setTimeout(function(){i()},1e3*l.delay):i()}function s(){function t(){l.element.style.transitionDuration="0s",l.element.style.opacity=1,l.element.style.display=l.display,r(),l.onComplete&&l.onComplete()}e(),l.element&&isElement(l.element)&&(o(),l.duration?(l.element.style.opacity=0,l.element.style.transitionDuration=l.duration+"s",l.element.style.display=l.display,setTimeout(function(){l.element.style.opacity=1},25),l.element.addEventListener("transitionend",function(e){t()},!1)):t())}function d(){l.delay?setTimeout(function(){s()},1e3*l.delay):s()}var l={element:!1,id:!1,delay:!1,duration:!1,display:"block",animateHeight:!1,onStartAddClassList:!1,onStartRemoveClassList:!1,onCompleteAddClassList:!1,onCompleteRemoveClassList:!1,onComplete:!1};return new AFTC.ArgsToObject(arguments[0],l),{hide:function(){a()},show:function(){d()}}},window.show=function(){if("string"==typeof arguments[0]){e={id:arguments[0]};AFTC.Visibility(e).show()}else if(isElement(arguments[0])){var e={element:arguments[0]};AFTC.Visibility(e).show()}else AFTC.Visibility(arguments[0]).show()},window.fadeIn=function(){window.show(arguments[0])},window.hide=function(){if("string"==typeof arguments[0]){e={id:arguments[0]};AFTC.Visibility(e).hide()}else if(isElement(arguments[0])){var e={element:arguments[0]};AFTC.Visibility(e).hide()}else AFTC.Visibility(arguments[0]).hide()},window.fadeOut=function(){window.hide(arguments[0])},(AFTC=AFTC||{}).XHR=function(){function e(e,t){return console.error(e),a.onError&&(t?a.onError(t):a.onError(d.xhr)),!1}function t(e){if(d.percentComplete=0,e.lengthComputable?(d.percentComplete=100/e.total*e.loaded,d.percentComplete=parseFloat(d.percentComplete.toFixed(2))):d.percentComplete=0,!a.onProgress)return d.percentComplete;a.onProgress(d.percentComplete)}function n(t){4==d.xhr.readyState?"404"==d.xhr.status?e("AFTC.XHR: ERROR: Please check your URL ["+a.url+"] NOT FOUND.",d.xhr):a.onComplete&&a.onComplete(d.xhr.responseText):e("AFTC.XHR: ERROR: Please review event details!",t)}function o(e){log("AFTC.XHR.transferFailed()"),a.onError&&a.onError(e)}function r(e){log("AFTC.XHR.transferCanceled()"),a.onCancel&&a.onCancel(e)}function i(){if("GET"==a.method&&0!=a.data)return a.url=a.url+"?"+a.data,!0;if("POST"==a.method)if(a.data.append)a.dataType="formdata";else if(isArray(a.data)||"object"==typeof a.data){var e="",t=new FormData;for(var n in a.data)log(n+" = "+a.data[n]),t.append(n,a.data[n]),e+="&"+n+"="+a.data[n];return a.dataType="form",a.data=e,!0}return!0}var a={url:!1,method:!1,data:!1,dataType:!1,responseType:!1,onComplete:!1,onError:!1,onProgress:!1,onCancel:!1};if(arguments[0]&&"object"==typeof arguments[0])for(var s in arguments[0])a.hasOwnProperty(s)&&(a[s]=arguments[0][s]);var d={url:!1,requestHeader:!1,xhr:!1,readyState:!1,status:!1,responseType:!1,response:null,percentComplete:0,isImage:!1,imageType:""};return function(){if(window.XMLHttpRequest?d.xhr=new XMLHttpRequest:d.xhr=new ActiveXObject("Microsoft.XMLHTTP"),d.xhr.addEventListener("progress",t),d.xhr.addEventListener("load",n),d.xhr.addEventListener("error",o),d.xhr.addEventListener("abort",r),a.method?a.method=String(a.method).toUpperCase():a.method="GET",a.dataType?a.dataType=String(a.dataType).toLowerCase():a.dataType="form","GET"==a.method&&"form"!=a.dataType)return msg="AFTC.XHR: ERROR: GET only supports the 'form' data type (key value pairs eg a=1&b=2)",console.error(msg),a.onError&&a.onError(msg),!1;if("form"!=a.dataType&&"formdata"!=a.dataType&&"json"!=a.dataType&&"array"!=a.dataType&&"object"!=a.dataType)return msg="AFTC.XHR: ERROR: The dataType option only supports 'form', 'formdata', 'json', 'array' or 'object'",console.error(msg),a.onError&&a.onError(msg),!1;if(!a.url)return msg="AFTC.XHR: ERROR: Please specify a URL!",console.error(msg),a.onError&&a.onError(msg),!1;if(a.responseType&&(a.responseType=String(a.responseType).toLowerCase(),-1!=a.responseType.indexOf("json")&&(d.xhr.responseType="json")),a.data)switch(i(),"form"==a.dataType?d.requestHeader="application/x-www-form-urlencoded; charset=utf-8":"formdata"==a.dataType||"json"==a.dataType&&(d.requestHeader="application/json; charset=utf-8"),d.xhr.open(a.method,a.url,!0),d.requestHeader&&d.xhr.setRequestHeader("Content-Type",d.requestHeader),a.method){case"GET":d.xhr.send();break;default:d.xhr.send(a.data)}else d.xhr.open(a.method,a.url,!0),d.xhr.send()}(),{url:a.url,method:a.method,data:a.data,dataType:a.dataType,xhr:d.xhr,readyState:d.readyState,status:d.status,response:d.response,responseType:d.responseType}};